(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{580:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("ç»ˆäºåˆ°å‘¨æœ«äº†ï¼Œå‰å‡ ç¯‡çš„æ–‡ç« ä¸€ç›´ç»™å¤§å®¶ä»‹ç»2dï¼Œcanvas å’Œsvgçš„ä¸€äº›ä¸œè¥¿ã€‚7æœˆä»½æˆ‘æ‰“ç®—è¾“å‡º3ç¯‡ä¸‡å­—é•¿æ–‡å¸¦å¤§å®¶ç³»ç»Ÿåœ°å­¦ä¹ å¯è§†åŒ–è¡¨è¾¾çš„3ç§æ–¹å¼ï¼Œsvgã€canvasã€webglã€‚æ‰€ä»¥è¿™æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« 3dçš„ã€‚ è¯»å®Œæœ¬ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥å­¦åˆ°ä»€ä¹ˆ")]),t._v(" "),a("ol",[a("li",[t._v("å¯¹äºthree.js è¿™ä¸ªæ¡†æ¶æœ‰ä¸€ä¸ªç®€å•çš„ç†è§£ï¼Œå¯ä»¥å…¥é—¨ä¸‹ã€‚")]),t._v(" "),a("li",[t._v("å­¦ä¹ threeä¸­çš„Raycasterï¼Œä¸»è¦æ˜¯ç”¨é¼ æ ‡æ¥åˆ¤æ–­å½“å‰é€‰æ‹©çš„æ˜¯å“ªä¸€ä¸ªç‰©ä½“ã€‚")]),t._v(" "),a("li",[t._v("æˆ‘ç”¨ä¸€ä¸ªç®€å•çš„å®ä¾‹ å¸¦å¤§å®¶ç”¨threeå®ç°ç®€å•çš„å¯è§†åŒ–åœ°çƒæ¡ˆä¾‹ ã€‚")])]),t._v(" "),a("h1",{attrs:{id:"_3dæ¡†æ¶çš„é€‰æ‹©-three-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3dæ¡†æ¶çš„é€‰æ‹©-three-js"}},[t._v("#")]),t._v(" 3dæ¡†æ¶çš„é€‰æ‹©â€”â€”three.js")]),t._v(" "),a("h2",{attrs:{id:"_1-ä¸ºä»€ä¹ˆé€‰æ‹©three-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸ºä»€ä¹ˆé€‰æ‹©three-js"}},[t._v("#")]),t._v(" 1.ä¸ºä»€ä¹ˆé€‰æ‹©three.js")]),t._v(" "),a("p",[t._v("â€‹        å®˜ç½‘å¯¹ "),a("strong",[t._v("Threejs")]),t._v(" çš„ä»‹ç»éå¸¸ç®€å•ï¼šâ€œJavascript 3D libraryâ€ã€‚"),a("strong",[t._v("openGL")]),t._v(" æ˜¯ä¸€ä¸ªè·¨å¹³å°3D/2Dçš„ç»˜å›¾æ ‡å‡†ï¼Œ"),a("strong",[t._v("WebGL")]),t._v(" åˆ™æ˜¯"),a("strong",[t._v("openGL")]),t._v(" åœ¨æµè§ˆå™¨ä¸Šçš„ä¸€ä¸ªå®ç°ã€‚webå‰ç«¯å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ç”¨"),a("strong",[t._v("WebGL")]),t._v(" æ¥å£è¿›è¡Œç¼–ç¨‹ï¼Œä½† "),a("strong",[t._v("WebGL")]),t._v(" åªæ˜¯éå¸¸åŸºç¡€çš„ç»˜å›¾APIï¼Œéœ€è¦ç¼–ç¨‹äººå‘˜æœ‰å¾ˆå¤šçš„æ•°å­¦çŸ¥è¯†ã€ç»˜å›¾çŸ¥è¯†æ‰èƒ½å®Œæˆ3Dç¼–ç¨‹ä»»åŠ¡ï¼Œè€Œä¸”ä»£ç é‡å·¨å¤§ã€‚"),a("strong",[t._v("Threejs")]),t._v(" å¯¹ "),a("strong",[t._v("WebGL")]),t._v(" è¿›è¡Œäº†å°è£…ï¼Œè®©å‰ç«¯å¼€å‘äººå‘˜åœ¨ä¸éœ€è¦æŒæ¡å¾ˆå¤šæ•°å­¦çŸ¥è¯†å’Œç»˜å›¾çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½å¤Ÿè½»æ¾è¿›è¡Œweb 3Då¼€å‘ï¼Œé™ä½äº†é—¨æ§›ï¼ŒåŒæ—¶å¤§å¤§æå‡äº†æ•ˆç‡ã€‚æ€»ç»“æ¥ä¸€å¥è¯ï¼š å°±æ˜¯ä½ ä¸æ‡‚è®¡ç®—æœºå›¾å½¢å­¦ï¼Œåªè¦ç†è§£äº†three.jsçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µä½ å¯ä»¥ã€‚")]),t._v(" "),a("h1",{attrs:{id:"threejs-çš„åŸºæœ¬è¦ç´ -åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threejs-çš„åŸºæœ¬è¦ç´ -åœºæ™¯"}},[t._v("#")]),t._v(" Threejs çš„åŸºæœ¬è¦ç´ â€”â€”åœºæ™¯")]),t._v(" "),a("p",[t._v("å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("åœºæ™¯")]),t._v("ï¼šæ˜¯ä¸€ä¸ªä¸‰ç»´ç©ºé—´ï¼Œæ‰€æœ‰ç‰©å“çš„å®¹å™¨ï¼Œå¯ä»¥æŠŠåœºæ™¯æƒ³è±¡æˆä¸€ä¸ªç©ºæˆ¿é—´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šå¾€æˆ¿é—´é‡Œæ”¾è¦å‘ˆç°çš„ç‰©ä½“ã€ç›¸æœºã€å…‰æºç­‰ã€‚")])]),t._v(" "),a("p",[t._v("ç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" scene "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Scene")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä½ å°±æŠŠä»–æƒ³è±¡æˆä¸€ä¸ªæˆ¿é—´ï¼Œç„¶åä½ å¯ä»¥å¾€é‡Œé¢å»æ·»åŠ ä¸€äº›ç‰©ä½“ï¼ŒåŠ ä¸€ä¸ªæ­£æ–¹ä½“å“ˆï¼ŒåŠ çŸ©å½¢ï¼Œä»€ä¹ˆéƒ½å¯ä»¥ã€‚å…¶å®three.js æ•´ä¸ªä¹‹é—´çš„å…³ç³»æ˜¯ä¸€ä¸ª "),a("strong",[t._v("æ ‘å½¢ç»“æ„")]),t._v("ã€‚")]),t._v(" "),a("h1",{attrs:{id:"threejs-çš„åŸºæœ¬è¦ç´ -ç›¸æœºğŸ“·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threejs-çš„åŸºæœ¬è¦ç´ -ç›¸æœºğŸ“·"}},[t._v("#")]),t._v(" Threejs çš„åŸºæœ¬è¦ç´ â€”â€”ç›¸æœºğŸ“·")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("ç›¸æœº")]),t._v("ï¼šThreejså¿…é¡»è¦å¾€åœºæ™¯ä¸­æ·»åŠ ä¸€ä¸ªç›¸æœºï¼Œç›¸æœºç”¨æ¥ç¡®å®šä½ç½®ã€æ–¹å‘ã€è§’åº¦ï¼Œç›¸æœºçœ‹åˆ°çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬æœ€æ€»åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹ã€‚åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è°ƒæ•´ç›¸æœºçš„ä½ç½®ã€æ–¹å‘å’Œè§’åº¦ã€‚")])]),t._v(" "),a("p",[t._v("three.js ä¸­çš„ç›¸æœºåˆ†ä¸ºä¸¤ç§ä¸€ç§æ˜¯æ­£äº¤ç›¸æœºğŸ“· å’Œé€è§†ç›¸æœºğŸ“·ï¼Œæ¥ä¸‹æ¥æˆ‘ç»™å¤§å®¶ä¸€ä¸€ä»‹ç»ï¼Œä½†æ˜¯ç†è§£ç…§ç›¸æœºçš„æƒ…å†µä¸‹ï¼Œä½ è¦å…ˆç†è§£ä¸€ä¸ªæ¦‚å¿µâ€”â€”è§†æ¤ä½“")]),t._v(" "),a("h2",{attrs:{id:"é€è§†ç›¸æœº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€è§†ç›¸æœº"}},[t._v("#")]),t._v(" é€è§†ç›¸æœº")]),t._v(" "),a("p",[t._v("è§†é”¥ä½“æ˜¯æ‘„åƒæœºå¯è§çš„ç©ºé—´ï¼Œçœ‹ä¸Šå»åƒæˆªæ‰é¡¶éƒ¨çš„é‡‘å­—å¡”ã€‚è§†é”¥ä½“ç”±6ä¸ªè£å‰ªé¢å›´æˆï¼Œæ„æˆè§†é”¥ä½“çš„4ä¸ªä¾§é¢ç§°ä¸ºä¸Šå·¦ä¸‹å³é¢ï¼Œåˆ†åˆ«å¯¹åº”å±å¹•çš„å››ä¸ªè¾¹ç•Œã€‚ä¸ºäº†é˜²æ­¢ç‰©ä½“ç¦»æ‘„åƒæœºè¿‡è¿‘ï¼Œè®¾ç½®è¿‘åˆ‡é¢ï¼ŒåŒæ—¶ä¸ºäº†é˜²æ­¢ç‰©ä½“ç¦»æ‘„åƒæœºå¤ªè¿œè€Œä¸å¯è§ï¼Œè®¾ç½®è¿œåˆ‡é¢ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/857f48ed1adc41beb424aa76b1f653f2~tplv-k3u1fbpfcp-watermark.image",alt:"è§†æ¤ä½“.png"}}),t._v("\noc å°±æ˜¯ç…§ç›¸æœºçš„ä½ç½®ï¼Œ è¿‘å¹³é¢ã€å’Œè¿œå¹³é¢å›¾ä¸­å·²ç»æ ‡æ³¨ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ£±å°ç»„æˆçš„6ä¸ªé¢ä¹‹å†…çš„ä¸œè¥¿ï¼Œæ˜¯å¯ä»¥è¢«çœ‹åˆ°çš„ã€‚ å½±å“é€è§†ç…§ç›¸æœºçš„å¤§å°å› ç´ ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æ‘„åƒæœºè§†é”¥ä½“å‚ç›´è§†é‡è§’åº¦ ä¹Ÿå°±æ˜¯å›¾ä¸­çš„"),a("strong",[t._v("a")])]),t._v(" "),a("li",[t._v("æ‘„åƒæœºè§†é”¥ä½“è¿‘ç«¯é¢  ä¹Ÿå°±æ˜¯å›¾ä¸­çš„ "),a("strong",[t._v("near plane")])]),t._v(" "),a("li",[t._v("æ‘„åƒæœºè§†é”¥ä½“è¿œç«¯é¢  ä¹Ÿå°±æ˜¯å›¾ä¸­çš„"),a("strong",[t._v("far plane")])]),t._v(" "),a("li",[t._v("æ‘„åƒæœºè§†é”¥ä½“é•¿å®½æ¯”   "),a("strong",[t._v("è¡¨ç¤ºè¾“å‡ºå›¾åƒçš„å®½å’Œé«˜ä¹‹æ¯”")])])]),t._v(" "),a("p",[t._v("å¯¹åº”çš„three ä¸­çš„ç…§ç›¸æœºï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" camera "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PerspectiveCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("â€‹    é€è§†ç›¸æœºæœ€å¤§çš„ç‰¹ç‚¹ï¼šå°±æ˜¯ç¬¦åˆæˆ‘ä»¬äººçœ¼è§‚å¯Ÿäº‹ç‰©çš„ç‰¹ç‚¹ï¼Œ è¿‘å¤§è¿œå°ã€‚")]),t._v(" "),a("p",[t._v("è¿‘å¤§è¿œå°çš„èƒŒåçš„å®ç°åŸç†å°±æ˜¯ç›¸æœºä¼šæœ‰ä¸€ä¸ªæŠ•å½±çŸ©é˜µ:  æŠ•å½±çŸ©é˜µçš„åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠè§†æ¤ä½“è½¬æ¢æˆä¸€ä¸ªæ­£æ–¹ä½“ã€‚ æ‰€ä»¥è¿œæˆªé¢çš„ç‚¹å°±è¦ç¼©å°ï¼Œ è¿‘è·ç¦»çš„åè€Œæ”¾å¤§ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12cb91ca23cb4f92b0325062aaf7cbbe~tplv-k3u1fbpfcp-watermark.image",alt:"æŠ•å½±çŸ©é˜µ.png"}})]),t._v(" "),a("h1",{attrs:{id:"æ­£äº¤ç›¸æœº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­£äº¤ç›¸æœº"}},[t._v("#")]),t._v(" æ­£äº¤ç›¸æœº")]),t._v(" "),a("p",[t._v("æ­£äº¤ç›¸æœºçš„ç‰¹ç‚¹å°±æ˜¯è§†æ¤ä½“çš„æ˜¯ä¸€ä¸ªç«‹æ–¹ä½“")]),t._v(" "),a("p",[t._v("åœ¨è¿™ç§æŠ•å½±æ¨¡å¼ä¸‹ï¼Œæ— è®ºç‰©ä½“è·ç¦»ç›¸æœºè·ç¦»è¿œæˆ–è€…è¿‘ï¼Œåœ¨æœ€ç»ˆæ¸²æŸ“çš„å›¾ç‰‡ä¸­ç‰©ä½“çš„å¤§å°éƒ½ä¿æŒä¸å˜ã€‚")]),t._v(" "),a("p",[t._v("è¿™å¯¹äºæ¸²æŸ“2Dåœºæ™¯æˆ–è€…UIå…ƒç´ æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98b1fb4905dc46949a8503d177a9acea~tplv-k3u1fbpfcp-watermark.image",alt:"æ­£äº¤ç›¸æœº.png"}})]),t._v(" "),a("p",[t._v("threeä¸­ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" camera "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OrthographicCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¯´å®Œç›¸æœºå°±è¦ä»‹ç»ä¸‹å›¾å½¢çš„ç»„æˆå½¢å¼äº†ã€‚")]),t._v(" "),a("h1",{attrs:{id:"threejs-çš„åŸºæœ¬è¦ç´ -ç½‘æ ¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threejs-çš„åŸºæœ¬è¦ç´ -ç½‘æ ¼"}},[t._v("#")]),t._v(" Threejs çš„åŸºæœ¬è¦ç´ â€”â€”ç½‘æ ¼")]),t._v(" "),a("blockquote",[a("p",[t._v("åœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œä¸€æ¡å¼§çº¿æ˜¯ç”±æœ‰é™ä¸ªç‚¹æ„æˆçš„æœ‰é™æ¡çº¿æ®µè¿æ¥å¾—åˆ°çš„ã€‚å½“çº¿æ®µæ•°é‡è¶Šå¤šï¼Œé•¿åº¦å°±è¶ŠçŸ­ï¼Œå½“è¾¾åˆ°ä½ æ— æ³•å¯Ÿè§‰è¿™æ˜¯çº¿æ®µæ—¶ï¼Œä¸€æ¡å¹³æ»‘çš„å¼§çº¿å°±å‡ºç°äº†ã€‚ è®¡ç®—æœºçš„ä¸‰ç»´æ¨¡å‹ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚åªä¸è¿‡çº¿æ®µå˜æˆäº†å¹³é¢ï¼Œæ™®éç”¨ä¸‰è§’å½¢ç»„æˆçš„ç½‘æ ¼æ¥æè¿°ã€‚æˆ‘ä»¬æŠŠè¿™ç§æ¨¡å‹ç§°ä¹‹ä¸º Mesh æ¨¡å‹ã€‚")])]),t._v(" "),a("p",[t._v("ä¸€æ¡å¼§çº¿ç”±å¤šæ¡çº¿æ®µå¾—åˆ°ï¼Œçº¿æ®µçš„æ•°é‡è¶Šå¤šï¼Œè¶Šæ¥è¿‘å¼§çº¿ã€‚ ä¸æ‡‚çš„å°ä¼™ä¼´ï¼Œå¯ä»¥çœ‹ä¸‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š"),a("a",{attrs:{href:"https://juejin.cn/post/6973583813179867172",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¢è¯•å®˜é—®æˆ‘ä¼šcanvas? æˆ‘å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªçƒŸèŠ±ğŸ‡åŠ¨ç”»"),a("OutboundLink")],1),t._v("é‡Œé¢"),a("strong",[t._v("è´å¡å°”æ›²çº¿å¯ä»¥æ˜¯ç”¨ä¸€æ®µæ®µå°çº¿æ®µå»æ‹Ÿåˆèµ·æ¥çš„")]),t._v(" ã€‚")]),t._v(" "),a("p",[t._v("three.js èƒŒåæ‰€æœ‰çš„å›¾å½¢åœ¨è¿›è¡Œæ¸²æŸ“ä¹‹å‰ï¼Œ éƒ½ä¼šè¿›è¡Œä¸‰è§’åŒ–ï¼Œ ç„¶åäº¤ç»™webgl å»æ¸²æŸ“ã€‚")]),t._v(" "),a("p",[t._v("Threejsæä¾›äº†ä¸€äº›å¸¸è§çš„å‡ ä½•å½¢çŠ¶ï¼Œæœ‰ä¸‰ç»´çš„ä¹Ÿæœ‰äºŒç»´çš„ï¼Œä¸‰ç»´çš„æ¯”å¦‚é•¿æ–¹ä½“ã€çƒä½“ç­‰ï¼ŒäºŒç»´çš„æ¯”å¦‚é•¿æ–¹å½¢åœ†å½¢ç­‰ï¼Œå¦‚æœé»˜è®¤æä¾›çš„å½¢çŠ¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰é€šè¿‡å®šä¹‰é¡¶ç‚¹å’Œé¡¶ç‚¹ä¹‹é—´çš„è¿çº¿ç»˜åˆ¶è‡ªå®šä¹‰å‡ ä½•å½¢çŠ¶ï¼Œæ›´å¤æ‚çš„æ¨¡å‹è¿˜å¯ä»¥ç”¨å»ºæ¨¡è½¯ä»¶å»ºæ¨¡åå¯¼å…¥ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2d"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2d"}},[t._v("#")]),t._v(" 2d")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e5980d39a3845a78b121095c2e7bc8d~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210703111412606.png"}})]),t._v(" "),a("h2",{attrs:{id:"_3d"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3d"}},[t._v("#")]),t._v(" 3d")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d70a7dfccb7b49b99926fd3243e1229d~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210703111444001.png"}})]),t._v(" "),a("p",[t._v("æœ‰äº†å½¢çŠ¶ï¼Œå¯èƒ½æ¸²æŸ“å‡ºæ¥çš„å›¾å½¢æ²¡æœ‰ç¾ä¸½çš„æ ·å­ï¼Œè¿™æ—¶å€™æè´¨å°±å‡ºæ¥äº†ã€‚ ç»„æˆçš„meshå…¶å®æ˜¯æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼š")]),t._v(" "),a("p",[t._v("æè´¨(Material)+å‡ ä½•ä½“(Geometry)å°±æ˜¯ä¸€ä¸ª meshï¼ŒThreejsæä¾›äº†é›†ä¸­æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æè´¨ï¼Œå¸¸ç”¨çš„ç”¨æ¼«åå°„ã€é•œé¢åå°„ä¸¤ç§æè´¨ï¼Œè¿˜å¯ä»¥å¼•å…¥å¤–éƒ¨å›¾ç‰‡ï¼Œè´´åˆ°ç‰©ä½“è¡¨é¢ï¼Œæˆä¸ºçº¹ç†è´´å›¾ã€‚å¤§å®¶æœ‰å…´è¶£å¯ä»¥è‡ªå·±å»è¯•ä¸€ä¸‹ã€‚å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14a9372d6f3e4a959ee4dff33966a7dd~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210703111750461.png"}})]),t._v(" "),a("h1",{attrs:{id:"threejs-çš„åŸºæœ¬è¦ç´ -ç¯å…‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threejs-çš„åŸºæœ¬è¦ç´ -ç¯å…‰"}},[t._v("#")]),t._v(" Threejs çš„åŸºæœ¬è¦ç´ â€”â€”ç¯å…‰")]),t._v(" "),a("p",[t._v("å‡å¦‚æ²¡æœ‰å…‰ï¼Œæ‘„åƒæœºçœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œå› æ­¤éœ€è¦å¾€åœºæ™¯æ·»åŠ å…‰æºï¼Œä¸ºäº†è·ŸçœŸå®ä¸–ç•Œæ›´åŠ æ¥è¿‘ï¼ŒThreejsæ”¯æŒæ¨¡æ‹Ÿä¸åŒå…‰æºï¼Œå±•ç°ä¸åŒå…‰ç…§æ•ˆæœï¼Œæœ‰ç‚¹å…‰æºã€å¹³è¡Œå…‰ã€èšå…‰ç¯ã€ç¯å¢ƒå…‰ç­‰ã€‚")]),t._v(" "),a("h1",{attrs:{id:"ambientlight-ç¯å¢ƒå…‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ambientlight-ç¯å¢ƒå…‰"}},[t._v("#")]),t._v(" AmbientLight(ç¯å¢ƒå…‰)")]),t._v(" "),a("p",[t._v("ç¯å¢ƒå…‰ä¼šå‡åŒ€çš„ç…§äº®åœºæ™¯ä¸­çš„æ‰€æœ‰ç‰©ä½“ï¼Œç¯å¢ƒå…‰ä¸èƒ½ç”¨æ¥æŠ•å°„é˜´å½±ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ–¹å‘ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" light "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AmbientLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x404040")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// soft white light")]),t._v("\n")])])]),a("h1",{attrs:{id:"å¹³è¡Œå…‰-directionallight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹³è¡Œå…‰-directionallight"}},[t._v("#")]),t._v(" å¹³è¡Œå…‰ï¼ˆDirectionalLightï¼‰")]),t._v(" "),a("p",[t._v("å¹³è¡Œå…‰æ˜¯æ²¿ç€ç‰¹å®šæ–¹å‘å‘å°„çš„å…‰ã€‚è¿™ç§å…‰çš„è¡¨ç°åƒæ˜¯æ— é™è¿œ,ä»å®ƒå‘å‡ºçš„å…‰çº¿éƒ½æ˜¯å¹³è¡Œçš„ã€‚å¸¸å¸¸ç”¨å¹³è¡Œå…‰æ¥æ¨¡æ‹Ÿå¤ªé˜³å…‰ çš„æ•ˆæœ; å¤ªé˜³è¶³å¤Ÿè¿œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¤ä¸ºå¤ªé˜³çš„ä½ç½®æ˜¯æ— é™è¿œï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºä»å¤ªé˜³å‘å‡ºçš„å…‰çº¿ä¹Ÿéƒ½æ˜¯å¹³è¡Œçš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" directionalLight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DirectionalLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xffffff")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h1",{attrs:{id:"ç‚¹å…‰æº-pointlight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹å…‰æº-pointlight"}},[t._v("#")]),t._v(" ç‚¹å…‰æºï¼ˆPointLightï¼‰")]),t._v(" "),a("p",[t._v("ä»ä¸€ä¸ªç‚¹å‘å„ä¸ªæ–¹å‘å‘å°„çš„å…‰æºã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªç¯æ³¡å‘å‡ºçš„å…‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" light "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PointLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xff0000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h1",{attrs:{id:"èšå…‰ç¯-spotlight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èšå…‰ç¯-spotlight"}},[t._v("#")]),t._v(" èšå…‰ç¯ï¼ˆSpotLightï¼‰")]),t._v(" "),a("p",[t._v("å…‰çº¿ä»ä¸€ä¸ªç‚¹æ²¿ä¸€ä¸ªæ–¹å‘å°„å‡ºï¼Œéšç€å…‰çº¿ç…§å°„çš„å˜è¿œï¼Œå…‰çº¿åœ†é”¥ä½“çš„å°ºå¯¸ä¹Ÿé€æ¸å¢å¤§ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spotLight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SpotLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xffffff")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç¯å…‰ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œå»three.js å®˜ç½‘æŸ¥çœ‹ã€‚")]),t._v(" "),a("h1",{attrs:{id:"threejs-çš„åŸºæœ¬è¦ç´ -æ¸²æŸ“å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threejs-çš„åŸºæœ¬è¦ç´ -æ¸²æŸ“å™¨"}},[t._v("#")]),t._v(" Threejs çš„åŸºæœ¬è¦ç´ â€”â€”æ¸²æŸ“å™¨")]),t._v(" "),a("p",[t._v("æ¸²æŸ“å™¨å°±æ˜¯å»æ¸²æŸ“ä½ åœºæ™¯ä¸­ç¯å…‰ã€ç›¸æœºã€ç½‘æ ¼å“‡ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" renderer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("WebGLRenderer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    antialias"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true/falseè¡¨ç¤ºæ˜¯å¦å¼€å¯åé”¯é½¿")]),t._v("\n    alpha"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true/false è¡¨ç¤ºæ˜¯å¦å¯ä»¥è®¾ç½®èƒŒæ™¯è‰²é€æ˜")]),t._v("\n    precision"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'highp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// highp/mediump/lowp è¡¨ç¤ºç€è‰²ç²¾åº¦é€‰æ‹©")]),t._v("\n    premultipliedAlpha"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true/false è¡¨ç¤ºæ˜¯å¦å¯ä»¥è®¾ç½®åƒç´ æ·±åº¦ï¼ˆç”¨æ¥åº¦é‡å›¾åƒçš„åˆ†ç‡ï¼‰")]),t._v("\n    preserveDrawingBuffer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true/false è¡¨ç¤ºæ˜¯å¦ä¿å­˜ç»˜å›¾ç¼“å†²")]),t._v("\n    maxLights"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ€å¤§ç¯å…‰æ•°")]),t._v("\n    stencil"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false/true è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨æ¨¡æ¿å­—ä½“æˆ–å›¾æ¡ˆ")]),t._v("\n\n")])])]),a("p",[t._v("three.jså¤§ä½“çš„ä¸€äº›è¦ç´ æˆ‘éƒ½ä»‹ç»è¿‡äº†ï¼Œæ¥ä¸‹é¢å°±è¿›å…¥åœ¨æ­£é¢˜äº†ï¼Œthree.js å¦‚ä½•å®ç°ä¸€ä¸ªå¯è§†åŒ–åœ°å›¾å‘¢ï¼Ÿ")]),t._v(" "),a("h1",{attrs:{id:"å¯è§†åŒ–åœ°å›¾-three-jså®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯è§†åŒ–åœ°å›¾-three-jså®ç°"}},[t._v("#")]),t._v(" å¯è§†åŒ–åœ°å›¾â€”â€”three.jså®ç°")]),t._v(" "),a("h2",{attrs:{id:"åœºæ™¯çš„æ­å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯çš„æ­å»º"}},[t._v("#")]),t._v(" åœºæ™¯çš„æ­å»º")]),t._v(" "),a("p",[t._v("æˆ‘å…ˆä¸ç®¡åœ°å›¾ä¸åœ°å›¾çš„ï¼Œåœ°å›¾çš„è¿™äº›å½¢çŠ¶è‚¯å®šæ˜¯æ”¾ç½®åˆ°åœºæ™¯ä¸­çš„ã€‚è·Ÿç€æˆ‘çš„è„šæ­¥ä¸€æ­¥ä¸€æ­¥å»æ­å»ºä¸€ä¸ªåœºæ™¯ã€‚åœºæ™¯çš„æ­å»ºå°±ç…§ç›¸æœºï¼Œæ¸²æŸ“å™¨ã€‚æˆ‘ç”¨ä¸€ä¸ªmapç±»æ¥è¡¨ç¤ºä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("chinaMap")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€æ­¥æ–°å»ºä¸€ä¸ªåœºæ™¯")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Scene")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRenderer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºé€è§†ç›¸æœº")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬äºŒå‚æ•°å°±æ˜¯ é•¿åº¦å’Œå®½åº¦æ¯” é»˜è®¤é‡‡ç”¨æµè§ˆå™¨  è¿”å›ä»¥åƒç´ ä¸ºå•ä½çš„çª—å£çš„å†…éƒ¨å®½åº¦å’Œé«˜åº¦")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PerspectiveCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®æ¸²æŸ“å™¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRenderer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("renderer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("WebGLRenderer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç”»å¸ƒçš„å¤§å°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("renderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿™é‡Œ å…¶å®å°±æ˜¯canvas ç”»å¸ƒ  renderer.domElement")]),t._v("\n      document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("renderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç¯å¢ƒå…‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ambientLight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AmbientLight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xffffff")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¯å¢ƒå…‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ambientLight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢æˆ‘åšäº†ä¸€ä¸€çš„è§£é‡Šï¼Œç°åœ¨åœºæ™¯æœ‰äº†ï¼Œç¯å…‰ä¹Ÿæœ‰äº†ï¼Œ æˆ‘ä»¬çœ‹ä¸‹æ ·å­ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fbacdd549a624b2c81b0dfb4570341f8~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210703140701037.png"}})]),t._v(" "),a("p",[t._v("å¯¹åœºæ™¯é»‘ä¹ä¹çš„ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œ æ¥ä¸‹æ¥æˆ‘ä»¬æˆ‘éšä¾¿éšä¾¿åŠ ä¸€ä¸ªé•¿æ–¹ä½“å¹¶ä¸”è°ƒç”¨rendererçš„renderæ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç¬¬ä¸€æ­¥æ–°å»ºä¸€ä¸ªåœºæ™¯")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Scene")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRenderer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" geometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BoxGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x00ff00")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cube "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cube"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//render æ–¹æ³• ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("renderer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æŒ‰ç…§ä¸Šé¢ğŸ‘†å»åšä½ ä¼šé¡µé¢è¿˜æ˜¯æ˜æ˜éƒ½å·²ç»åŠ äº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("strong",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨scene.add()çš„æ—¶å€™ï¼Œç‰©ä½“å°†ä¼šè¢«æ·»åŠ åˆ°(0,0,0)åæ ‡ã€‚ä½†å°†ä½¿å¾—æ‘„åƒæœºå’Œç«‹æ–¹ä½“å½¼æ­¤åœ¨ä¸€èµ·ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‘„åƒæœºç¨å¾®å‘å¤–ç§»åŠ¨ä¸€äº›å³å¯")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥åªè¦å°†ç…§ç›¸æœºçš„ä½ç½®zè½´å±æ€§è°ƒæ•´ä¸€ä¸‹å°±å¯ä»¥åˆ°å›¾ç‰‡äº†")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºé€è§†ç›¸æœº")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬äºŒå‚æ•°å°±æ˜¯ é•¿åº¦å’Œå®½åº¦æ¯” é»˜è®¤é‡‡ç”¨æµè§ˆå™¨  è¿”å›ä»¥åƒç´ ä¸ºå•ä½çš„çª—å£çš„å†…éƒ¨å®½åº¦å’Œé«˜åº¦")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PerspectiveCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("position"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("z "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å›¾ç‰‡å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5630c6058c6d4b50814191f230f5f9ef~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210703142305435.png"}})]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™æœ‰åŒå­¦å°±ä¼šé—®ï¼Œå—¯æåŠå¤©ä¸å’Œcanvas 2d ä¸€æ ·å˜›ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ çœ‹ä¸å‡ºç«‹ä½“çš„æ„Ÿè§‰ï¼Ÿ OK æ¥ä¸‹æ¥æˆ‘å°±è®©è¿™ä¸ªç«‹æ–¹ä½“åŠ¨èµ·æ¥ã€‚ å…¶å®å°±æ˜¯ä¸åœçš„å»è°ƒç”¨ æˆ‘ä»¬render å‡½æ•°ã€‚ æˆ‘ä»¬ç”¨reqestanimationframeã€‚å°½é‡è¿˜æ˜¯ä¸è¦ç”¨setIntervalï¼Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„ä¼˜åŒ–ã€‚")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("requestAnimationFrame")]),t._v("æœ‰å¾ˆå¤šçš„ä¼˜ç‚¹ã€‚æœ€é‡è¦çš„ä¸€ç‚¹æˆ–è®¸å°±æ˜¯å½“ç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒçš„æ ‡ç­¾é¡µæ—¶ï¼Œå®ƒä¼šæš‚åœï¼Œå› æ­¤ä¸ä¼šæµªè´¹ç”¨æˆ·å®è´µçš„å¤„ç†å™¨èµ„æºï¼Œä¹Ÿä¸ä¼šæŸè€—ç”µæ± çš„ä½¿ç”¨å¯¿å‘½ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘è¿™é‡Œåšçš„è®©ç«‹æ–¹ä½“çš„x,y ä¸æ–­çš„+0.1ã€‚ å…ˆçœ‹ä¸‹ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("render() {\n  this.renderer.render(this.scene, this.camera)\n}\n\nanimate() {\n  requestAnimationFrame(this.animate.bind(this))\n  this.cube.rotation.x += 0.01\n  this.cube.rotation.y += 0.01\n  this.render()\n}\n")])])]),a("p",[t._v("æ•ˆæœå›¾å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d0d3d819ac5a479b8722e24434bba65c~tplv-k3u1fbpfcp-watermark.image",alt:"ç«‹æ–¹ä½“çš„æ—‹è½¬.gif"}})]),t._v(" "),a("p",[t._v("æ˜¯ä¸æ˜¯æœ‰é‚£ä¸ªé‚£ä¸ªæ„Ÿè§‰äº†ï¼Œ æˆ‘æ˜¯ä»¥æœ€ç®€å•çš„ç«‹æ–¹ä½“çš„æ—‹è½¬ï¼Œå¸¦å¤§å®¶ä»å¤´å…¥é—¨ä¸‹three.jsã€‚ å¦‚æœçœ‹åˆ°è¿™é‡Œè§‰å¾—è¿™é‡Œï¼Œè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œå¸Œæœ›ä½ èƒ½ç»™æˆ‘ç‚¹ä¸ªèµğŸ‘å“¦ï¼Œæ„Ÿè°¢å„ä½è€é“äº†ï¼ä¸‹é¢æ­£å¼åœ°å›¾éœ€æ±‚åˆ†æã€‚")]),t._v(" "),a("h1",{attrs:{id:"åœ°å›¾æ•°æ®çš„è·å¾—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å›¾æ•°æ®çš„è·å¾—"}},[t._v("#")]),t._v(" åœ°å›¾æ•°æ®çš„è·å¾—")]),t._v(" "),a("p",[t._v("å…¶å®æœ€é‡è¦çš„æ˜¯è·å–åœ°å›¾æ•°æ®ï¼Œ å¤§å®¶å¯ä»¥äº†è§£ä¸‹openStreetMap")]),t._v(" "),a("blockquote",[a("p",[t._v("è¿™ä¸ªæ˜¯ä¸€ä¸ªå¯ä¾›è‡ªç”±ç¼–è¾‘çš„ä¸–ç•Œåœ°å›¾ã€‚OpenStreetMapå…è®¸ä½ æŸ¥çœ‹ï¼Œç¼–è¾‘æˆ–è€…ä½¿ç”¨ä¸–ç•Œå„åœ°çš„åœ°ç†æ•°æ®æ¥å¸®åŠ©ä½ ã€‚")])]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘è‡ªå·±æŠŠä¸­å›½åœ°å›¾çš„æ•°æ®jsonæ‹·è´ä¸‹æ¥äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ è½½åœ°å›¾æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadMapData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" loader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileLoader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  loader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../json/china.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jsondata "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ç»™å¤§å®¶å…ˆçœ‹ä¸‹json æ•°æ®çš„æ ¼å¼")]),t._v(" "),a("p",[t._v("![image-20210703154646470](/Users/wangzhengfei/Library/Application Support/typora-user-images/image-20210703154646470.png)")]),t._v(" "),a("p",[t._v("å…¶å®ä¸»è¦çš„æ˜¯ä¸‹é¢æœ‰ä¸ªç»çº¬åº¦åæ ‡ï¼Œ å…¶å®è¿™ä¸ªæ‰æ˜¯æˆ‘å…³å¿ƒçš„ï¼Œæœ‰äº†ç‚¹æ‰èƒ½ç”Ÿæˆçº¿ï¼Œæœ€åæ‰èƒ½ç”Ÿæˆå¹³é¢ã€‚ è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œ "),a("strong",[t._v("å¢¨å¡æ‰˜æŠ•å½±è½¬æ¢")]),t._v("ã€‚  å¢¨å¡æ‰˜æŠ•å½±è½¬æ¢å¯ä»¥æŠŠæˆ‘ä»¬ç»çº¬åº¦åæ ‡è½¬æ¢æˆæˆ‘ä»¬å¯¹åº”å¹³é¢çš„2dåæ ‡ã€‚ å¤§å®¶å¯¹è¿™ä¸ªæ¨å¯¼è¿‡ç¨‹çš„æ„Ÿæ€§çš„å¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ï¼š "),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/326955505",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¼ é€é—¨"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ç›´æ¥ç”¨å¯è§†åŒ–æ¡†æ¶â€”â€”"),a("strong",[t._v("d3")]),t._v(" å®ƒé‡Œé¢æœ‰è‡ªå¸¦çš„å¢¨å¡æ‰˜æŠ•å½±è½¬æ¢ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¢¨å¡æ‰˜æŠ•å½±è½¬æ¢")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" projection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d3\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("geoMercator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("center")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("104.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ç”±äºä¸­å›½æœ‰å¾ˆå¤šçœ,æ¯ä¸ªçœéƒ½å¯¹åº”ä¸€ä¸ªObject3dã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("Object3dæ˜¯three.js æ‰€æœ‰çš„åŸºç±», æä¾›äº†ä¸€ç³»åˆ—çš„å±æ€§å’Œæ–¹æ³•æ¥å¯¹ä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ä½“è¿›è¡Œæ“çºµã€‚å¯ä»¥é€šè¿‡.add( object )æ–¹æ³•æ¥å°†å¯¹è±¡è¿›è¡Œç»„åˆï¼Œè¯¥æ–¹æ³•å°†å¯¹è±¡æ·»åŠ ä¸ºå­å¯¹è±¡")])]),t._v(" "),a("p",[t._v("æˆ‘è¿™é‡Œçš„æ•´ä¸ªä¸­å›½æ˜¯ä¸€ä¸ªå¤§çš„Object3dï¼Œæ¯ä¸€ä¸ªçœæ˜¯ä¸€ä¸ªObject3dï¼Œçœæ˜¯æŒ‚åœ¨ä¸­å›½ä¸‹çš„ã€‚ ç„¶åä¸­å›½è¿™ä¸ªMapæŒ‚åœ¨sceneè¿™ä¸ªObject3dä¸‹ã€‚ å¾ˆæ˜æ˜¾ï¼Œåœ¨three.js æ˜¯ä¸€ä¸ªå¾ˆå…¸å‹çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæˆ‘ç”»äº†å¼ å›¾ç»™å¤§å®¶çœ‹ä¸‹ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44b4fb44b6c84ef59f551c35a1c3f5a4~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210704115145494.png"}})]),t._v(" "),a("p",[t._v("Scenceåœºæ™¯ä¸‹æŒ‚äº†å¾ˆå¤šä¸œè¥¿ï¼Œ å…¶ä¸­æœ‰ä¸€ä¸ªå°±æ˜¯Map, æ•´ä¸ªåœ°å›¾ï¼Œ ç„¶åæ¯ä¸ªçœä»½ï¼Œ æ¯ä¸ªçœä»½åˆæ˜¯ç”±Meshå’ŒlLine ç»„æˆçš„ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çœ‹ä¸‹ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("     "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("jsondata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–ä¸€ä¸ªåœ°å›¾å¯¹è±¡")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object3D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¢¨å¡æ‰˜æŠ•å½±è½¬æ¢")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" projection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" d3\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("geoMercator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("center")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("104.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n          jsondata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("features"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("elem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¸€ä¸ªçœä»½3Då¯¹è±¡")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" province "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Object3D")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("province"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çœ‹åˆ°è¿™é‡Œæˆ‘æƒ³ä½ å¯èƒ½æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä»¬æ•´ä½“æ¡†æ¶å®šä¸‹æ¥äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥æ ¸å¿ƒç¯èŠ‚")]),t._v(" "),a("h1",{attrs:{id:"ç”Ÿæˆåœ°å›¾å‡ ä½•ä½“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆåœ°å›¾å‡ ä½•ä½“"}},[t._v("#")]),t._v(" ç”Ÿæˆåœ°å›¾å‡ ä½•ä½“")]),t._v(" "),a("p",[t._v("è¿™é‡Œç”¨åˆ°äº† Three.shape() å’Œ  THREE.ExtrudeGeometryï¼ˆï¼‰  ä¸ºä»€ä¹ˆä¼šç”¨åˆ°è¿™ä¸ªå‘¢ï¼Ÿ  æˆ‘ç»™å¤§å®¶è§£é‡Šä¸‹ï¼Œ "),a("strong",[t._v("é¦–å…ˆæ¯ä¸€ä¸ªçœä»½è½®å»“ç»„æˆçš„ä¸‹æ ‡æ˜¯ä¸€ä¸ª 2dåæ ‡ï¼Œä½†æ˜¯æˆ‘ä»¬è¦ç”Ÿæˆç«‹æ–¹ä½“ï¼Œshape()  å¯ä»¥å®šä¹‰ä¸€ä¸ªäºŒç»´å½¢çŠ¶å¹³é¢ã€‚ å®ƒå¯ä»¥å’ŒExtrudeGeometryä¸€èµ·ä½¿ç”¨ï¼Œè·å–ç‚¹ï¼Œæˆ–è€…è·å–ä¸‰è§’é¢ã€‚")])]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯ä¸ªçš„ åæ ‡ æ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" coordinates "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coordinates\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾ªç¯åæ ‡æ•°ç»„")]),t._v("\n    coordinates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("multiPolygon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      multiPolygon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("polygon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lineMaterial "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LineBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'white'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lineGeometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Geometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" polygon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("projection")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("polygon"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lineTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          lineGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vertices"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Vector3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.01")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" extrudeSettings "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          depth"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          bevelEnabled"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" geometry "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ExtrudeGeometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          extrudeSettings\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#2defff'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          transparent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          opacity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" material1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MeshBasicMaterial")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#3480C4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          transparent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          opacity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mesh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" line "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Line")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lineGeometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lineMaterial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        province"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mesh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        province"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("éå†ç¬¬ä¸€ä¸ªç‚¹çš„çš„å’Œcanvas2dç”»å›¾å…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œ ç§»åŠ¨èµ·ç‚¹ï¼Œ ç„¶ååé¢åœ¨åˆ’çº¿ï¼Œ ç”»å‡ºè½®å»“ã€‚ç„¶åæˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥è®¾ç½®æ‹‰ä¼¸çš„æ·±åº¦ï¼Œ ç„¶åæ¥ä¸‹æ¥å°±æ˜¯è®¾ç½®æè´¨äº†ã€‚lineGeometry å…¶å® å¯¹åº”çš„æ˜¯è½®å»“çš„è¾¹çº¿ã€‚æˆ‘ä»¬çœ‹ä¸‹å›¾ç‰‡å§ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/393592c34bf649df91346f4b11b14455~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210704142519856.png"}})]),t._v(" "),a("h1",{attrs:{id:"ç›¸æœºè¾…åŠ©è§†å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›¸æœºè¾…åŠ©è§†å›¾"}},[t._v("#")]),t._v(" ç›¸æœºè¾…åŠ©è§†å›¾")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ–¹ä¾¿è°ƒç›¸æœºä½ç½®ï¼Œ æˆ‘å¢åŠ äº†è¾…åŠ©è§†å›¾ï¼Œ cameraHelperã€‚  ç„¶åä½ å›çœ‹ä¸‹å±å¹•ä¼šå‡ºç°ä¸€ä¸ªåå­—æ¶ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä¸æ–­åœ°è°ƒæ•´ç›¸æœºçš„ä½ç½®ï¼Œè®©æˆ‘ä»¬åœ°åœ°å›¾å¤„äºç”»é¢çš„ä¸­å¤®ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" helper "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CameraHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("helper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç»è¿‡è¾…åŠ©çš„è§†å›¾åœ°ä¸æ–­è°ƒæ•´ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c5d839c4b9294f41b8f61ee79372a199~tplv-k3u1fbpfcp-watermark.image",alt:"image-20210704143137849.png"}}),t._v("\nå“ˆå“ˆå“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æœ‰é‚£ä¸ªå‘³é“äº†ã€‚åˆ°è¿™é‡Œæˆ‘ä»¬çš„ä¸­å›½åœ°å›¾å·²ç»åœ¨ç”»å¸ƒçš„ä¸­å¤®äº†å°±å·²ç»å®ç°äº†ã€‚")]),t._v(" "),a("h1",{attrs:{id:"å¢åŠ äº¤äº’æ§åˆ¶å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¢åŠ äº¤äº’æ§åˆ¶å™¨"}},[t._v("#")]),t._v(" å¢åŠ äº¤äº’æ§åˆ¶å™¨")]),t._v(" "),a("p",[t._v("ç°åœ¨åœ°å›¾æ˜¯å·²ç»ç”Ÿæˆäº†ï¼Œä½†æ˜¯ç”¨æˆ·äº¤äº’æ„Ÿæ¯”è¾ƒå·®ï¼Œè¿™é‡Œæˆ‘ä»¬å¼•å…¥threeçš„OrbitControls  å¯ä»¥ç”¨é¼ æ ‡åœ¨ç”»é¢éšæ„è½¬åŠ¨ï¼Œå°±å¯ä»¥çœ‹åˆ°ç«‹æ–¹ä½“çš„æ¯ä¸€ä¸ªéƒ¨åˆ†äº†ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸åœ¨three çš„åŒ…é‡Œé¢ï¼Œ å¾—å•ç‹¬å¼•å…¥ä¸€ä¸ªæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("controller "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OrbitControls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬çœ‹ä¸‹æ•ˆæœï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7209cdf376cf4da7ad98c756af773733~tplv-k3u1fbpfcp-watermark.image",alt:"è½¨é“æ§åˆ¶å™¨.gif"}})]),t._v(" "),a("h1",{attrs:{id:"å°„çº¿è¿½è¸ª"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°„çº¿è¿½è¸ª"}},[t._v("#")]),t._v(" å°„çº¿è¿½è¸ª")]),t._v(" "),a("p",[t._v("ä½†æ˜¯å¯¹äºæˆ‘è‡ªå·±è€Œè¨€è¿˜æ˜¯ä¸æ»¡æ„ï¼Œ æˆ‘æ€ä¹ˆçŸ¥é“çš„æˆ‘ç‚¹å‡»çš„æ˜¯å“ªä¸€ä¸ªçœä»½å‘¢ï¼ŒOKè¿™æ—¶å€™å°±è¦å¼•å…¥æˆ‘ä»¬threeä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªç±»äº†ï¼ŒRaycaster ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("è¿™ä¸ªç±»ç”¨äºè¿›è¡Œ"),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Ray_casting",target:"_blank",rel:"noopener noreferrer"}},[t._v("raycasting"),a("OutboundLink")],1),t._v("ï¼ˆå…‰çº¿æŠ•å°„ï¼‰ã€‚ å…‰çº¿æŠ•å°„ç”¨äºè¿›è¡Œé¼ æ ‡æ‹¾å–ï¼ˆåœ¨ä¸‰ç»´ç©ºé—´ä¸­è®¡ç®—å‡ºé¼ æ ‡ç§»è¿‡äº†ä»€ä¹ˆç‰©ä½“ï¼‰ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å¯¹canvasç›‘å¬çš„onmouseMove äº‹ä»¶ï¼Œç„¶å æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“å½“å‰ç§»åŠ¨çš„é¼ æ ‡æ˜¯é€‰æ‹©çš„å“ªä¸€ä¸ªmeshã€‚ä½†æ˜¯åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹æ¯ä¸€ä¸ªprovinceè¿™ä¸ªå¯¹è±¡ä¸Šå¢åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºä»–æ˜¯å“ªä¸€ä¸ªçœä»½çš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†çœä»½çš„å±æ€§ åŠ è¿›æ¥")]),t._v("\nprovince"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("properties\n")])])]),a("p",[t._v("Ok, æˆ‘ä»¬å¯ä»¥å¼•å…¥å°„çº¿è¿½è¸ªäº†å¸¦å…¥å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRaycaster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Raycaster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Vector2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onMouseMove")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†é¼ æ ‡ä½ç½®å½’ä¸€åŒ–ä¸ºè®¾å¤‡åæ ‡ã€‚x å’Œ y æ–¹å‘çš„å–å€¼èŒƒå›´æ˜¯ (-1 to +1)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onMouseMove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡æ‘„åƒæœºå’Œé¼ æ ‡ä½ç½®æ›´æ–°å°„çº¿")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFromCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç”±äºæˆ‘ä»¬ä¸åœåœ°åœ¨åœ¨ç”»å¸ƒç§»åŠ¨ï¼Œ æ‰€ä»¥éœ€è¦ä¸åœçš„çš„å°„çº¿ä½ç½®ã€‚ç°åœ¨æœ‰äº†å°„çº¿ï¼Œ é‚£æˆ‘ä»¬éœ€è¦åœºæ™¯çš„æ‰€æœ‰ä¸œè¥¿å»æ¯”è¾ƒäº†ï¼ŒrayCaster ä¹Ÿæä¾›äº†æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" intersects "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersectObjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœºæ™¯çš„")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è‹¥ä¸ºtrueï¼Œåˆ™åŒæ—¶ä¹Ÿä¼šæ£€æµ‹æ‰€æœ‰ç‰©ä½“çš„åä»£ã€‚å¦åˆ™å°†åªä¼šæ£€æµ‹å¯¹è±¡æœ¬èº«çš„ç›¸äº¤éƒ¨åˆ†")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ªintersectså¾—åˆ°çš„äº¤å‰å¾ˆå¤šï¼Œä½†æ˜¯å‘¢æˆ‘ä»¬åªé€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ç‰©ä½“æè´¨ä¸ªæ•°æœ‰ä¸¤ä¸ªçš„ï¼Œ å› ä¸ºæˆ‘ä»¬ä¸Šé¢å°±æ˜¯ç”¨å¯¹meshç”¨ä¸¤ä¸ªæè´¨")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mesh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mesh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" material1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ‰€ä»¥è¿‡æ»¤ä»£ç å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡æ‘„åƒæœºå’Œé¼ æ ‡ä½ç½®æ›´æ–°å°„çº¿")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFromCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®—å‡ºå°„çº¿ ä¸å½“åœºæ™¯ç›¸äº¤çš„å¯¹è±¡æœ‰é‚£äº›")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" intersects "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersectObjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" find "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" intersects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘æ€ä¹ˆçŸ¥é“æˆ‘åˆ°åº•æ‰¾åˆ°æ²¡ï¼Œæˆ‘ä»¬å¯¹æ‰¾åˆ°çš„meshå°†å®ƒçš„è¡¨é¢å˜æˆç°è‰²ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¼ æ ‡å†ä¸€æ¬¡ç§»åŠ¨çš„æ—¶å€™è¦æŠŠä¸Šä¸€æ¬¡çš„æè´¨ç»™ä»–æ¢å¤è¿‡æ¥ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šè¿‡æ‘„åƒæœºå’Œé¼ æ ‡ä½ç½®æ›´æ–°å°„çº¿")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFromCamera")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®—å‡ºå°„çº¿ ä¸å½“åœºæ™¯ç›¸äº¤çš„å¯¹è±¡æœ‰é‚£äº›")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" intersects "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersectObjects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scene"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¢å¤ä¸Šä¸€æ¬¡æ¸…ç©ºçš„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#2defff'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#3480C4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" intersects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xff0000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastPick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("material"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xff0000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çœ‹ä¸‹æ•ˆæœå›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cba8bf9ed548406ca220988695afe87a~tplv-k3u1fbpfcp-watermark.image",alt:"é¼ æ ‡pick.gif"}})]),t._v(" "),a("h1",{attrs:{id:"å¢åŠ tooltip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¢åŠ tooltip"}},[t._v("#")]),t._v(" å¢åŠ tooltip")]),t._v(" "),a("p",[t._v("ä¸ºäº†è®©äº¤äº’æ›´åŠ å®Œç¾ï¼Œæ‰¾åˆ°äº†åŒæ—¶åœ¨é¼ æ ‡å³ä¸‹æ–¹æ˜¾ç¤ºä¸ªtooltipï¼Œé‚£è¿™ä¸ªè‚¯å®šæ˜¯ä¸€ä¸ªdivé»˜è®¤æ˜¯å½±è—çš„ï¼Œç„¶åæ ¹æ®é¼ æ ‡çš„ç§»åŠ¨ç§»åŠ¨ç›¸åº”çš„ä½ç½®ã€‚")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ­¥æ–°å»ºdiv")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tooltip"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[t._v("ç¬¬äºŒæ­¥è®¾ç½®æ ·å¼ é»˜è®¤æ˜¯å½±è—çš„")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#tooltip")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" white"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("visibility")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hidden"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç¬¬ä¸‰æ­¥æ›´æ”¹divçš„ä½ç½®ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRaycaster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("raycaster "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Raycaster")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("THREE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Vector2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tooltip "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tooltip'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onMouseMove")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ”¹divä½ç½®")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tooltip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tooltip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onMouseMove"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æœ€åä¸€æ­¥è®¾ç½®tooltipçš„åå­—ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("showTip() {\n    // æ˜¾ç¤ºçœä»½çš„ä¿¡æ¯\n    if (this.lastPick) {\n      const properties = this.lastPick.object.parent.properties\n\n      this.tooltip.textContent = properties.name\n\n      this.tooltip.style.visibility = 'visible'\n    } else {\n      this.tooltip.style.visibility = 'hidden'\n    }\n  }\n")])])]),a("p",[t._v("åˆ°è¿™é‡Œï¼Œæ•´ä¸ª3då¯è§†åŒ–åœ°çƒé¡¹ç›®å·²ç»å®Œæˆäº†ï¼Œ æˆ‘ä»¬ä¸€èµ·çœ‹ä¸‹æ•ˆæœå§ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e701d5890c84abc9d3886eba743a656~tplv-k3u1fbpfcp-watermark.image",alt:"æœ€ç»ˆæ•ˆæœ.gif"}})]),t._v(" "),a("h1",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("å„ä½è¯»è€…ï¼Œå¦‚æœè§‰å¾—çœ‹å®Œå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œ å¸Œæœ›ä½ ä¸è¦åå•¬ä½ æ‰‹ä¸­çš„ğŸ‘ï¼Œç‚¹ä¸ªğŸ‘å’Œå…³æ³¨æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒï¼ŒçŸ¥è¯†è¾“å‡ºä¸å®¹æ˜“ï¼Œè€Œæˆ‘å‹¿å¿˜åˆå¿ƒï¼ŒæŒç»­åˆ†äº«å¯è§†åŒ–çš„å¥½æ–‡ç« ï¼Œå¦‚æœä½ å¯¹å¯è§†åŒ–æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥å…³æ³¨ä¸‹é¢æˆ‘çš„å¯è§†åŒ–ä¸“æ ï¼Œæˆ–è€…å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š "),a("strong",[t._v("å‰ç«¯å›¾å½¢")]),t._v("ï¼ŒæŒç»­åˆ†äº«è®¡ç®—æœºå›¾å½¢å­¦çŸ¥è¯†ã€‚æœ¬ç¯‡æ–‡ç« çš„æ‰€æœ‰ä»£ç éƒ½åœ¨æˆ‘çš„"),a("a",{attrs:{href:"https://github.com/wzf1997/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("github"),a("OutboundLink")],1),t._v(" ä¸Š æ¬¢è¿starï¼Œ æœ€åæ–‡ç« æœ‰å“ªé‡Œå†™çš„ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£äº¤æµã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);