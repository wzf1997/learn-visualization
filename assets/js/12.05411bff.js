(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{565:function(t,s,a){"use strict";a.r(s);var n=a(12),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("2020ä¸œäº¬å¥¥è¿ä¼šå·²ç»å¼€å¹•å¾ˆå¤šå¤©äº†ï¼Œè¿˜è®°å¾—å°æ—¶å€™çœ‹å¥¥è¿ä¼šçš„æ˜¯åœ¨2008å¹´çš„åŒ—äº¬å¥¥è¿ä¼šï¼Œä¸»é¢˜æ›²æ˜¯"),a("strong",[t._v("åŒ—äº¬æ¬¢è¿ä½ ")]),t._v("ï¼Œ é‚£ä¸ªæ—¶å€™æ‰ä¸Šå°å­¦å§ï¼Œå‡ ä¹æœ‰ä¸­å›½é˜Ÿçš„æ¯åœºå¿…çœ‹ï¼Œå½“æ—¶ä¹Ÿæ˜¯çƒ­è¡€æ²¸è…¾äº†ï¼Œ æ—¶é—´è½¬çœ¼å·²ç»åˆ°äº†2021å¹´è€Œæˆ‘ä¹Ÿä»å°å­¦ç”Ÿå˜æˆäº†ä¸€ä¸ªæ¯å¤©ä¸æ–­æ•²ä»£ç çš„ç¨‹åºå‘˜ğŸ‘©â€ğŸ’»ï¼Œçœ‹å¥¥è¿çš„æ—¶é—´åˆå°‘ï¼Œä½†æ˜¯åˆæƒ³å‡ºåˆ†åŠ›ï¼Œæ—¢ç„¶æ˜¯ç¨‹åºå‘˜ï¼Œæƒ³ç€èƒ½ä¸ºå¥¥è¿ä¼šæç‚¹ä»€ä¹ˆï¼Ÿç¬¬ä¸€æ—¶é—´æƒ³åˆ°äº†å°±æ˜¯ç»™å¥¥è¿å¥–ç‰Œæ•°ğŸ…åšå¯è§†åŒ–ï¼Œå› ä¸ºå•çœ‹è¡¨æ ¼æ•°æ®ï¼Œä¸èƒ½ä½“ç°å‡ºæˆ‘ä»¬ä¸­å›½çš„ç‰›é€¼ğŸ‚ï¼Œ åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å†™ã€‚")]),t._v(" "),a("h1",{attrs:{id:"æ•°æ®è·å¾—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®è·å¾—"}},[t._v("#")]),t._v(" æ•°æ®è·å¾—")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆçœ‹ä¸‹å¥¥è¿å¥–ç‰Œæ•°çš„è¡¨æ ¼ï¼Œè¿™ä¸œè¥¿è‚¯å®šæ˜¯æ¥å£è·å¾—çš„å§ï¼Œæˆ‘ä¸å¯èƒ½æ‰‹å†™å§ï¼Œè€Œä¸”æ¯å¤©éƒ½æ˜¯æ›´æ–°çš„ï¼Œéš¾é“æˆ‘è¦æ¯å¤©å»æ”¹ï¼Œè‚¯å®šä¸æ˜¯è¿™æ ·çš„ï¼Œæˆ‘å½“æ—¶è„‘å­é‡Œå°±æƒ³ç€å»åšçˆ¬è™«ï¼Œå»ç”¨"),a("strong",[t._v("puppeteer")]),t._v(" å»æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¡Œä¸ºç„¶åè·å–é¡µé¢çš„åŸç”Ÿdom,ç„¶åå°†è¡¨æ ¼çš„æ•°æ®æå‡ºæ¥ï¼Œ ç„¶åæˆ‘å°±å¾ˆå…´å¥‹çš„å»æäº†ï¼Œå†™äº†ä¸‹é¢çš„ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" puppeteer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puppeteer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯åŠ¨chromeæµè§ˆå™¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" browser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" puppeteer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("launch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // æŒ‡å®šè¯¥æµè§ˆå™¨çš„è·¯å¾„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// executablePath: chromiumPath,")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦ä¸ºæ— å¤´æµè§ˆå™¨æ¨¡å¼ï¼Œé»˜è®¤ä¸ºæ— å¤´æµè§ˆå™¨æ¨¡å¼")]),t._v("\n    headless"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ä¸€ä¸ªé»˜è®¤çš„æµè§ˆå™¨ä¸Šä¸‹æ–‡ä¸­è¢«åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" page1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" browser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç©ºç™½é¡µåˆšé—®è¯¥æŒ‡å®šç½‘å€")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://tiyu.baidu.com/tokyoly/home/tab/%E5%A5%96%E7%89%8C%E6%A6%9C/from/pc'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰å¾…titleèŠ‚ç‚¹å‡ºç°")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitForSelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨pageè‡ªå¸¦çš„æ–¹æ³•è·å–èŠ‚ç‚¹")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨jsè·å–èŠ‚ç‚¹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" titleDomText2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" page1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" titleDom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#kw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" titleDom\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("titleDomText2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æŸ¥çœ‹æ•°æ®---'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆªå›¾")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//await page1.screenshot({ path: 'google.png' })")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   await page1.pdf({")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     path: './baidu.pdf',")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   })")]),t._v("\n  browser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("ç„¶åå½“æˆ‘å¾ˆå…´å¥‹çš„æƒ³è¦å»ç»“æœçš„æ—¶å€™ï¼Œç»“æœå‘ç°æ˜¯ç©ºã€‚ç™¾åº¦æ˜¯ä¸æ˜¯åšäº†åçˆ¬è™«åè®®ï¼Œ æ¯•ç«Ÿæˆ‘æ˜¯çˆ¬è™«èœé¸Ÿï¼Œæäº†å¾ˆä¹…ã€‚è¿˜æ˜¯æ²¡æå‡ºæ¥ã€‚å¦‚æœæœ‰å¤§ä½¬ä¼šï¼Œæ¬¢è¿æŒ‡ç‚¹æˆ‘ä¸‹å“¦ï¼")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210731112152170.png",alt:"image-20210731112152170"}})]),t._v(" "),a("p",[t._v("ä¸è¿‡è¿™ä¸ª"),a("strong",[t._v("puppeteer")]),t._v("ï¼Œè¿™ä¸ªåº“æœ‰ç‚¹ç‰›çš®çš„ï¼Œå¯ä»¥å®ç°ç½‘é¡µæˆªå›¾ã€ç”Ÿæˆpdfã€æ‹¦æˆªè¯·æ±‚ï¼Œå…¶å®æœ‰ç‚¹è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ„Ÿè§‰ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œäº†è§£ä¸€ä¸‹ï¼Œè¿™ä¸åœ¨æœ¬ç¯‡æ–‡ç« ä»‹ç»çš„é‡ç‚¹ã€‚")]),t._v(" "),a("h1",{attrs:{id:"æ¥å£è·å¾—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¥å£è·å¾—"}},[t._v("#")]),t._v(" æ¥å£è·å¾—")]),t._v(" "),a("p",[t._v("ç„¶åè¿™æ—¶å€™å°±å¼€å§‹ç–¯ç‹‚ç™¾åº¦ï¼Œå¼€å§‹å¯»æ‰¾æœ‰æ²¡æœ‰ç°æˆçš„"),a("strong",[t._v("api")]),t._v(", çœŸæ˜¯è¸ç ´é“é‹æ— è§…å¤„ï¼Œå¾—æ¥å…¨ä¸è´¹å·¥å¤«ã€‚è¢«æˆ‘æ‰¾åˆ°äº†ï¼ŒåŸæ¥æ˜¯æœ‰å¤§ä½¬å·²ç»å¼€å§‹åšäº†ï¼Œ è¿™æ—¶å€™æˆ‘æœ¬åœ°ç›´æ¥å»è¯·æ±‚é‚£ä¸ªæ¥å£æ˜¯æœ‰é—®é¢˜çš„ï¼Œå‰ç«¯ä¸å¾—ä¸å¤„ç†çš„é—®é¢˜â€”â€” è·¨åŸŸã€‚ çœ‹ç€ä¸œè¥¿æˆ‘å¤´ç–¼å“‡ï¼Œ ä¸è¿‡æ²¡å…³ç³»ï¼Œ æˆ‘ç›´æ¥nodeèµ·ä¸€ä¸ªæœåŠ¡å™¨ï¼Œ æˆ‘nodeå»è¯·æ±‚é‚£ä¸ªæ¥å£ï¼Œç„¶ååå°åœ¨é…ç½®ä¸‹è·¨åŸŸï¼Œ æå®šæ¥å£æ•°æ®å°±ç›´æ¥è·å¾—äº†ï¼Œ åå°æœåŠ¡æˆ‘æ˜¯ç”¨çš„expressï¼Œ æ­å»ºçš„æœåŠ¡å™¨ç›´æ¥éšä¾¿ææçš„ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" axios "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'axios'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("allowCrossDomain")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Origin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Methods'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET,PUT,POST,DELETE'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Headers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Credentials'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allowCrossDomain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://apia.yikeapi.com/olympic/?appid=43656176&appsecret=I42og6Lm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3030")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[t._v("è¿™æ ·æˆ‘å°±æ˜¯å®ç°äº†æ¥å£è½¬å‘ï¼Œä¹Ÿæå®šäº†è·¨åŸŸé—®é¢˜ï¼Œå‰å°æˆ‘ç›´æ¥ç”¨ fetchå»è¯·æ±‚æ•°æ®ç„¶ååšä¸€å±‚æ•°æ®è½¬æ¢ï¼Œä½†æ˜¯è¿™ä¸ªæ¥å£ä¸èƒ½é¢‘ç¹è¯·æ±‚ï¼ŒåŠ¨ä¸åŠ¨å°±crash, æ˜¯çœŸçš„çƒ¦ï¼Œ OKæ‰€ä»¥ç›´æ¥åšäº†ä¸€ä¸ªæ“ä½œï¼Œ å°†æ•°æ® å­˜åˆ°localstorageä¸­ï¼Œç„¶ååšä¸€ä¸ªå®šæ—¶åˆ·æ–°ï¼Œæ—¶é—´å¤§æ¦‚æ˜¯ä¸€å¤©ä¸€åˆ·ã€‚è¿™æ ·å°±ä¿è¯æ•°æ®çš„æœ‰æ•ˆæ€§ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" curTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aoyun'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aoyun'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æŸ¥çœ‹æ—¶é—´å·®'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" time "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3030/data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" errcode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" list "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errcode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ¥å£è¯·æ±‚å¤ªé¢‘ç¹'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errcode "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" list\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aoyun'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤º ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210731114644399.png",alt:"image-20210731114644399"}})]),t._v(" "),a("h1",{attrs:{id:"æŸ±çŠ¶å›¾çš„è¡¨ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŸ±çŠ¶å›¾çš„è¡¨ç¤º"}},[t._v("#")]),t._v(" æŸ±çŠ¶å›¾çš„è¡¨ç¤º")]),t._v(" "),a("p",[t._v("å…¶å®æˆ‘æƒ³äº†å¾ˆå¤šè¡¨è¾¾ä¸­å›½é‡‘ç‰Œæ•°çš„æ–¹å¼ï¼Œæœ€ç»ˆæˆ‘è¿˜æ˜¯é€‰æ‹©ç”¨2dæŸ±çŠ¶å›¾å»è¡¨ç¤ºï¼Œå¹¶åŒæ—¶åšäº†åŠ¨ç”»æ•ˆæœï¼Œæ˜¾å¾—æ¯ä¸€å¿«é‡‘ç‰ŒğŸ…æ¥çš„å¹¶ä¸å®¹æ˜“ã€‚æˆ‘è¿˜æ˜¯ç”¨åŸç”Ÿæ‰‹å†™æŸ±çŠ¶å›¾ä¸å»ä½¿ç”¨"),a("strong",[t._v("Echarts")]),t._v(" åº“ï¼Œ æˆ‘ä»¬é¦–å…ˆå…ˆçœ‹ä¸‹æŸ±çŠ¶å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210731231555289.png",alt:"æŸ±çŠ¶å›¾"}})]),t._v(" "),a("p",[t._v("ä»å›¾ä¸­å¯ä»¥åˆ†æå‡ºä¸€äº›å…ƒç´ ")]),t._v(" "),a("ol",[a("li",[t._v("xè½´å’Œyè½´ä»¥åŠä¸€äº›ç›´çº¿ï¼Œæ‰€ä»¥æˆ‘åªè¦å°è£…ä¸€ä¸ªç”»ç›´çº¿çš„æ–¹æ³•")]),t._v(" "),a("li",[t._v("æœ‰å¾ˆå¤šçŸ©å½¢ï¼Œ å°è£…ä¸€ä¸ªç”»çŸ©å½¢çš„æ–¹æ³•")]),t._v(" "),a("li",[t._v("è¿˜æœ‰ä¸€äº›åˆ»åº¦å’Œæ ‡å°º")]),t._v(" "),a("li",[t._v("æœ€åå°±æ˜¯ä¸€è¿›å…¥çš„åŠ¨ç”»æ•ˆæœ")])]),t._v(" "),a("h1",{attrs:{id:"ç”»å¸ƒåˆå§‹åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”»å¸ƒåˆå§‹åŒ–"}},[t._v("#")]),t._v(" ç”»å¸ƒåˆå§‹åŒ–")]),t._v(" "),a("p",[t._v("åœ¨é¡µé¢ä¸Šåˆ›å»ºcanvaså’Œè·å–canvasçš„ä¸€äº›å±æ€§ï¼Œå¹¶å¯¹canvasç»‘ä¸Šç§»åŠ¨äº‹ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMouseMove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"ç”»åæ ‡è½´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”»åæ ‡è½´"}},[t._v("#")]),t._v(" ç”»åæ ‡è½´")]),t._v(" "),a("p",[t._v("åæ ‡è½´æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç›´çº¿ï¼Œç›´çº¿å¯¹åº”çš„ä¸¤ä¸ªç‚¹ï¼Œä¸åŒçš„ç›´çº¿å…¶å®å°±æ˜¯å¯¹åº”çš„ç«¯ç‚¹ä¸åŒï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å°è£…äº†ä¸€ä¸ªç”»ç›´çº¿çš„æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”»çº¿çš„æ–¹æ³•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beginPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lineTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stroke")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¯èƒ½æœ‰çš„äººå¯¹canvasä¸ç†Ÿæ‚‰ï¼Œè¿™é‡Œæˆ‘è¿˜æ˜¯å¤§æ¦‚è¯´ä¸‹ï¼Œ å¼€å¯ä¸€æ®µè·¯å¾„ï¼Œ ç§»åŠ¨ç”»ç¬”åˆ°å¼€å§‹çš„ç‚¹ï¼Œ ç„¶åç”»ç›´çº¿åˆ°æœ«å°¾çš„ç‚¹ï¼Œç„¶åæè¾¹ è¿™ä¸€æ­¥æ˜¯canvasåšæ¸²æŸ“ï¼Œ å¾ˆé‡è¦ï¼Œå¾ˆå¤šå°ç™½ä¸å†™ï¼Œ ç›´çº¿å°±ä¸å‡ºæ¥ï¼Œ ç„¶åé—­åˆè·¯å¾„ã€‚ ç»“æŸover!")]),t._v(" "),a("p",[t._v("ç”»åæ ‡è½´æˆ‘ä»¬é¦–å…ˆå…ˆç¡®å®šåŸç‚¹åœ¨å“ªé‡Œï¼Œæˆ‘ä»¬é¦–å…ˆç»™ç”»å¸ƒå‘å†…ç¼©ä¸€ä¸ªpaddingè·ç¦»ï¼Œç„¶åå‘¢ï¼Œç®—å‡ºç”»å¸ƒå®é™…çš„å®½åº¦å’Œé«˜åº¦ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initChart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç•™ä¸€ä¸ªå†…è¾¹è·")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç®—å‡ºç”»å¸ƒå®é™…çš„å®½åº¦å’Œé«˜åº¦")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—å‡ºåŸç‚¹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cHeight\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æœ‰äº†åŸç‚¹æˆ‘ä»¬å°±å¯ä»¥ç”»Xè½´å’ŒYè½´äº†ï¼Œ åªè¦åŠ ä¸Š"),a("strong",[t._v("å®é™…ç”»å¸ƒ")]),t._v("å¯¹åº”çš„å®½åº¦å’Œé«˜åº¦ å°±å¥½äº† ã€‚ ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è®¾ç½®canvas æ ·å¼")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCanvasStyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”»xè½´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cHeight\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”»Yè½´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ç¬¬ä¸€ä¸ª å‡½æ•°å°±æ˜¯è®¾ç½®canvasç”»ç¬”çš„æ ·å¼çš„ï¼Œå…¶å®è¿™ä¸œè¥¿æ²¡ä»€ä¹ˆã€‚ æˆ‘ä»¬çœ‹ä¸‹æ•ˆæœï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801101548539.png",alt:"Xè½´å’ŒYè½´"}})]),t._v(" "),a("p",[t._v("å¾ˆå¤šäººä»¥ä¸ºåˆ°è¿™é‡Œå°±ç»“æŸäº†å“ˆå“ˆå“ˆï¼Œ é‚£ä½ æƒ³å¤ªå¤šäº†ï¼Œ canvasæˆ‘è®¾ç½®çš„ç”»çº¿å®½åº¦æ˜¯1px ä¸ºä»€ä¹ˆçœ‹å›¾ç‰‡çš„çº¿çš„å®½åº¦åƒæ˜¯2pxï¼Ÿä¸ä»”ç»†è§‚å¯Ÿæ ¹æœ¬å‘ç°ä¸äº†è¿™ä¸ªé—®é¢˜ï¼Œ æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¼šæ€è€ƒè¿™åˆ°åº•æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿå…¶å®è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯æˆ‘çœ‹"),a("strong",[t._v("Echarts")]),t._v("æºç å‘ç°çš„ï¼Œ å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†å“‡ï¼")]),t._v(" "),a("h1",{attrs:{id:"å½©è›‹-canvaså¦‚ä½•ç”»å‡º1pxçš„ç›´çº¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å½©è›‹-canvaså¦‚ä½•ç”»å‡º1pxçš„ç›´çº¿"}},[t._v("#")]),t._v(" å½©è›‹â€”â€”canvaså¦‚ä½•ç”»å‡º1PXçš„ç›´çº¿")]),t._v(" "),a("p",[t._v("åœ¨è¿™é‡Œæˆ‘ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œ ä½ å°±æ˜ç™½äº†ï¼Œ å‡è®¾æˆ‘è¦ç”»ä»ï¼ˆ50ï¼Œ10ï¼‰ åˆ° ï¼ˆ200ï¼Œ10ï¼‰è¿™æ ·çš„ä¸€æ¡ç›´çº¿ã€‚ä¸ºäº†ç”»è¿™æ¡çº¿ï¼Œæµè§ˆå™¨é¦–å…ˆåˆ°è¾¾åˆå§‹èµ·ç‚¹(50ï¼Œ10)ã€‚è¿™æ¡çº¿å®½1pxï¼Œæ‰€ä»¥ä¸¤è¾¹å„ç•™0.5pxã€‚æ‰€ä»¥åŸºæœ¬ä¸Šåˆå§‹èµ·ç‚¹æ˜¯ä»(50ï¼Œ9.5)å»¶ä¼¸åˆ°(50ï¼Œ10.5)ã€‚ç°åœ¨æµè§ˆå™¨ä¸èƒ½åœ¨å±å¹•ä¸Šæ˜¾ç¤º0.5åƒç´ â€”â€”æœ€å°é˜ˆå€¼æ˜¯1åƒç´ ã€‚æµè§ˆå™¨åˆ«æ— é€‰æ‹©ï¼Œåªèƒ½å°†èµ·ç‚¹çš„è¾¹ç•Œå»¶ä¼¸åˆ°å±å¹•ä¸Šçš„å®é™…åƒç´ è¾¹ç•Œã€‚å®ƒä¼šåœ¨ä¸¤è¾¹å†åŠ 0.5å€çš„â€œåƒåœ¾â€ã€‚æ‰€ä»¥ç°åœ¨ï¼Œæœ€åˆçš„èµ·ç‚¹æ˜¯ä»(50ï¼Œ9)æ‰©å±•åˆ°(50ï¼Œ11)ï¼Œæ‰€ä»¥çœ‹èµ·æ¥æœ‰2pxå®½ã€‚æƒ…å†µå¦‚ä¸‹:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801102814428.png",alt:"å®é™…æ•ˆæœå›¾"}})]),t._v(" "),a("p",[t._v("ç°åœ¨ä½ å°±åº”è¯¥æ˜ç™½äº†åŸæ¥"),a("strong",[t._v("æµè§ˆå™¨ä¸èƒ½æ˜¾ç¤º0.5åƒç´ å“‡ï¼Œ å››èˆäº”å…¥äº†")]),t._v("ï¼Œ çŸ¥é“äº† é—®é¢˜æˆ‘ä»¬å°±ä¸€å®šæœ‰è§£å†³æ–¹æ¡ˆ")]),t._v(" "),a("h1",{attrs:{id:"å¹³ç§»canvas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹³ç§»canvas"}},[t._v("#")]),t._v(" å¹³ç§»canvas")]),t._v(" "),a("p",[t._v("ctx.translate (x,y ) è¿™ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),a("p",[a("code",[t._v("translate()")]),t._v(" æ–¹æ³•, å°† canvas æŒ‰åŸå§‹ xç‚¹çš„æ°´å¹³æ–¹å‘ã€åŸå§‹çš„ yç‚¹å‚ç›´æ–¹å‘è¿›è¡Œ"),a("strong",[t._v("å¹³ç§»å˜æ¢")])]),t._v(" "),a("p",[t._v("å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801103340067.png",alt:"canvaså¹³ç§»"}})]),t._v(" "),a("p",[t._v("è¯´çš„æ›´ç›´ç™½ç‚¹ï¼Œ ä½ å¯¹canvasåšäº†translateå˜åŒ–åï¼Œ ä½ ä¹‹å‰æ‰€æœ‰ç”»çš„ç‚¹ï¼Œéƒ½ä¼šç›¸å¯¹åç§»ã€‚ æ‰€ä»¥å‘¢ï¼Œå›åˆ°æˆ‘ä»¬è¿™ä¸ªé—®é¢˜ä¸Šæ¥ï¼Œ è§£å†³åŠæ³•å°±æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æˆ‘å°†ç”»å¸ƒ æ•´ä½“å‘ä¸‹åç§» 0.5 ï¼Œ æ‰€ä»¥åŸæœ¬åæ ‡ ï¼ˆ50ï¼Œ10ï¼‰ å˜æˆäº†ï¼ˆ50.5,10.5ï¼‰ å’Œï¼ˆ200.5, 10.5ï¼‰ok ç„¶åæµè§ˆå™¨çš„å†å»ç”»çš„ ä»–è¿˜æ˜¯è¦é¢„ç•™åƒç´ ï¼Œ  æ‰€ä»¥å°±æ˜¯ä»ï¼ˆ50.5, 10ï¼‰ åˆ°ï¼ˆ50.5, 11ï¼‰ è¿™ä¸ªåŒºé—´å»ç”»OKï¼Œ å°±æ˜¯1pxäº†ã€‚æˆ‘ä»¬æ¥try it.")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”»xè½´")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cHeight\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”»Yè½´")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("åç§»å®Œä¹‹åè¿˜æ˜¯è¦æ¢å¤è¿‡å»çš„ï¼Œ è¿˜æ˜¯è¦ååˆ†æ³¨æ„çš„ã€‚ æˆ‘ç”»äº†ä¸¤å¼ å›¾ä½œæ¯”å¯¹ï¼š")]),t._v(" "),a("p",[a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801104401971.png",alt:"A"}}),t._v("åç§»å              "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801104436464.png",alt:"B"}}),t._v("åç§»å‰")]),t._v(" "),a("p",[t._v("ä¸å¤šè¯´äº†ï¼Œ çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œ æˆ–è€…å­¦åˆ°äº†è¯ï¼Œ æˆ‘æ˜¯å¸Œæœ›ä½ ç»™æˆ‘ç‚¹èµğŸ‘ã€è¯„è®ºã€åŠ æ”¶è—ã€‚")]),t._v(" "),a("h1",{attrs:{id:"ç”»æ ‡å°º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”»æ ‡å°º"}},[t._v("#")]),t._v(" ç”»æ ‡å°º")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç°åœ¨åªæœ‰Xè½´å’ŒYè½´ï¼Œ å…‰ç§ƒç§ƒçš„ï¼Œæˆ‘ç»™Xè½´å’ŒYè½´åº•éƒ¨å¢åŠ ä¸€äº›æ ‡å°ºï¼ŒXè½´å¯¹åº”çš„æ ‡å°ºï¼Œè‚¯å®šå°±æ˜¯æ¯ä¸ªå›½å®¶çš„åå­—ï¼Œå¤§æ¦‚çš„æ€è·¯å°±æ˜¯æ•°æ®çš„æ•°é‡å»åšä¸€ä¸ªåˆ†æ®µï¼Œ ç„¶åå»å¡«å……å°±å¥½äº†ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawXlabel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textAlign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'center'")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" country "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" totalWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" totalWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rectWidth    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" yMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fillText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("country"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" xMarker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" yMarker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–‡å­—  }}")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œçš„è¯æˆ‘æˆªå–äº†æ’åå‰10çš„å›½å®¶ï¼Œ åˆ†æ–­çš„æ€è·¯ï¼Œ é¦–å…ˆä¸¤è¾¹ç•™ç™½20px,  æˆ‘ä»¬é¦–å…ˆå…ˆå®šä¹‰æ¯ä¸€ä¸ªæŸ±çŠ¶å›¾çš„å®½åº¦ å‡è®¾æ˜¯ 30 å¯¹åº”ä¸Šæ–‡çš„ this.rectWidth, ç„¶åæ¯ä¸ªæ–‡å­—çš„åæ ‡ å…¶å®å°±å¾ˆå¥½ç®—äº†ï¼Œ èµ·åˆçš„x + æ‰€å çš„åˆ†ç«¯æ•° +  çŸ©å½¢å®½åº¦å°±å¯ä»¥ç”»å‡ºæ¥äº†")]),t._v(" "),a("p",[t._v("å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801120538900.png",alt:"Xè½´æ ‡å°º"}})]),t._v(" "),a("p",[t._v("xè½´ç”»å®Œäº†ï¼Œæˆ‘ä»¬å¼€å§‹ç”»Yè½´ï¼Œ Yè½´çš„å¤§æ¦‚æ€è·¯å°±æ˜¯ ä»¥æœ€å¤šçš„å¥–ç‰Œæ•°å»åšåˆ†æ®µï¼Œ è¿™é‡Œæˆ‘å°±åˆ†æˆ6æ®µå§ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰Yè½´çš„åˆ†æ®µæ•°this.ySegments = 6//å®šä¹‰å­—ä½“æœ€å¤§å®½åº¦this.fontMaxWidth = 40")]),t._v("\n")])])]),a("p",[t._v("æ¥ä¸‹å•¦æˆ‘ä»¬å°±å¼€å§‹è®¡ç®—Yè½´æ¯ä¸ªç‚¹çš„Yåæ ‡ï¼Œ Xåæ ‡å…¶å®å¾ˆå¥½è®¡ç®— åªè¦åŸç‚¹åæ ‡çš„Xå‘å·¦å¹³ç§»å‡ ä¸ªè·ç¦»å°±å¥½äº†ï¼Œä¸»è¦æ˜¯è®¡ç®—Yè½´çš„åæ ‡ï¼Œ è¿™é‡Œä¸€å®šè¦æ³¨æ„çš„æ˜¯ï¼Œ æˆ‘ä»¬ä»åæ ‡æ˜¯ç›¸å¯¹äºå·¦ä¸Šè§’çš„ï¼Œ æ‰€ä»¥å‘¢ï¼Œ Yè½´çš„åæ ‡åº”è¯¥æ˜¯å‘ä¸Šé€’å‡çš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawYlabel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" jin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" maxValue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textAlign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'right'")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ySegments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" markerVal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("maxValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ySegments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" yMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ySegments "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ySegments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fillText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("markerVal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" xMarker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" yMarker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–‡å­—  }}")]),t._v("\n")])])]),a("p",[t._v("æœ€å¤§çš„æ•°æ®å°±æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°æ®ï¼Œ ç„¶åæ¯ä¸ªæ ‡å°ºå°±æ˜¯æ‰€å çš„æ¯”ä¾‹å°±å¥½äº†ï¼Œ Yè½´çš„åæ ‡ç”±äºæˆ‘ä»¬æ˜¯é€’å‡çš„æ‰€ä»¥ å¯¹åº”çš„åæ ‡åº”è¯¥æ˜¯ 1- æ‰€å çš„ä»½é¢ï¼Œ ç”±äºè¿™åªæ˜¯ç®—çš„å›¾æ ‡çš„å®é™…é«˜åº¦ ï¼Œæ¢ç®—åˆ°ç”»å¸ƒé‡Œé¢ï¼Œ è¿˜è¦åŠ ä¸ŠåŸå…ˆæˆ‘ä»¬è®¾ç½®çš„å†…è¾¹è·ï¼Œç”±äºåˆåŠ ä¸Šäº†æ–‡å­—ï¼Œ æ–‡å­—ä¹Ÿå æœ‰ä¸€å®šåƒç´ ï¼Œ æ‰€ä»¥æœ‰åŠ ä¸Šäº†20ã€‚ OK Yè½´ç”»ç»“æŸäº†ï¼Œ æœ‰äº†Yè½´æ¯ä¸ªåˆ†æ–­çš„åæ ‡ï¼Œ åŒæ—¶å°±ç”»å‡ºèƒŒåçš„å¯¹åº”çš„å‡ æ¡å®çº¿ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawLine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  yMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  yMarker "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æœ€ç»ˆå‘ˆç°çš„æ•ˆæœå›¾å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801155513690.png",alt:"xyè½´"}})]),t._v(" "),a("h1",{attrs:{id:"ç”»çŸ©å½¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”»çŸ©å½¢"}},[t._v("#")]),t._v(" ç”»çŸ©å½¢")]),t._v(" "),a("p",[t._v("everything isReady, ä¸‹é¢å¼€å§‹ç”»çŸ©å½¢ï¼Œ è¿˜æ˜¯åŒæ ·çš„æ–¹å¼ å…ˆå°è£…ç”»çŸ©å½¢çš„æ–¹æ³•ï¼Œ ç„¶åæˆ‘ä»¬åªè¦ä¼ å…¥å¯¹åº”çš„æ•°æ®å°±OKäº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™é‡Œç”¨åˆ°äº†ï¼ŒcanvasåŸç”Ÿçš„rect æ–¹æ³•ã€‚å‚æ•°ç†è§£å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801155838213.png",alt:"rectè¯­æ³•"}})]),t._v(" "),a("p",[t._v("çŸ©å½¢å®½åº¦ æˆ‘ä»¬è‡ªå®šä¹‰çš„ï¼Œ çŸ©å½¢çš„é«˜åº¦å°±æ˜¯å¯¹åº”çš„å¥–ç‰Œæ•°åœ¨ç”»å¸ƒä¸­çš„é«˜åº¦ï¼Œ æ‰€ä»¥æˆ‘ä»¬åªè¦ç¡®å®š çŸ©å½¢çš„èµ·ç‚¹å°±æå®šäº†ï¼Œ è¿™é‡ŒçŸ©å½¢çš„ï¼ˆx,yï¼‰ å…¶å®æ˜¯å·¦ä¸Šè§’çš„ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//ç»˜åˆ¶æ–¹å—drawRect(x, y, width, height) {  this.ctx.beginPath()  this.ctx.rect(x, y, width, height)  this.ctx.fill()  this.ctx.closePath()}\n")])])]),a("p",[t._v("ç¬¬ä¸€æ­¥æˆ‘ä»¬å…ˆåšä¸€ä¸ªç‚¹çš„æ˜ å°„ï¼Œ æˆ‘ä»¬åœ¨ç”»Yè½´çš„æ—¶å€™ï¼Œå°†Yè½´çš„ä¸Šçš„ç”»å¸ƒçš„æ‰€æœ‰çš„ç‚¹éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œ æ³¨æ„è®°å¾—å°†åŸç‚¹çš„Yæ”¾è¿›å»ã€‚æ‰€ä»¥åªè¦è®¡ç®—å‡ºæ¯ä¸ªå¥–ç‰Œæ•°åœ¨æ€»éƒ¨çš„æ¯”ä¾‹æ˜¯å¤šå°‘ï¼Ÿ ç„¶åå†ç”¨åŸç‚¹çš„Yå€¼åšä¸€ä¸ªç›¸å‡å°±å¯ä»¥å¾—åˆ°çœŸæ­£çš„Yè½´åæ ‡äº†ã€‚Xè½´çš„åæ ‡å°±æ¯”è¾ƒç®€å•äº†ï¼ŒåŸç‚¹çš„Xåæ ‡åŠ ä¸Š  ï¼ˆ æ‰€å çš„æ¯”ä¾‹ / æ€»é•¿åº¦ ï¼‰ ç„¶ååœ¨åŠ ä¸Š ä¸€åŠçš„çŸ©å½¢å®½åº¦å°±å¥½äº†ã€‚ è¿™ä¸ªé“ç†å’Œç”»æ–‡å­—æ˜¯ä¸€æ ·çš„ï¼Œ åªä¸è¿‡æ–‡å­—è¦å±…ä¸­å˜›ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawBars")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" jin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" diff "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" jin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" barH "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" diff    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originY "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" barH    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" totalWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("originX "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" totalWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rectWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rectWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" barH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç”»å‡ºçš„æ•ˆæœå›¾å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801165119492.png",alt:"å¥–ç‰Œæ•°"}})]),t._v(" "),a("h1",{attrs:{id:"çŸ©å½¢äº¤äº’ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çŸ©å½¢äº¤äº’ä¼˜åŒ–"}},[t._v("#")]),t._v(" çŸ©å½¢äº¤äº’ä¼˜åŒ–")]),t._v(" "),a("p",[t._v("é»‘ç§ƒç§ƒçš„ä¹Ÿä¸‘äº†å§ï¼Œä¸€ä¸ªä¸çŸ¥é“çš„äººæ ¹æœ¬ä¸çŸ¥é“è¿™æ˜¯å“ªä¸€ä¸ªå›½å®¶è·å¾—å¤šå°‘å¿«é‡‘ç‰Œã€‚")]),t._v(" "),a("ol",[a("li",[t._v("ç»™çŸ©å½¢åŠ ä¸€ä¸ªæ¸å˜")]),t._v(" "),a("li",[t._v("åŠ ä¸€äº›æ–‡å­—")])]),t._v(" "),a("p",[t._v("ç°åœ¨ç”»çŸ©å½¢çš„åŸºç¡€ä¸ŠåŠ ä¸€äº›æ–‡å­—å§ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textAlign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'center'")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fillText")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rectWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("restore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ¸å˜å°±è®¾è®¡åˆ°Canvasä¸€ä¸ªapiäº†ï¼ŒcreateLinearGradient")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("createLinearGradient()")]),t._v(" æ–¹æ³•éœ€è¦æŒ‡å®šå››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¸å˜çº¿æ®µçš„å¼€å§‹å’Œç»“æŸç‚¹ã€‚")])]),t._v(" "),a("p",[t._v("é‚£æˆ‘å°±å¼€å§‹äº†é¦–å…ˆè‚¯å®šåˆ›å»ºæ¸å˜ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("getGradient() {  const gradient = this.ctx.createLinearGradient(0, 0, 0, 300)  gradient.addColorStop(0, 'green')  gradient.addColorStop(1, 'rgba(67,203,36,1)')  return gradient}\n")])])]),a("p",[t._v("ç„¶åå‘¢æˆ‘ä»¬å°±æ”¹é€ drawReactä¸‹ ï¼Œè¿™é‡Œç”¨äº† restore å’Œsave è¿™ä¸ªæ–¹æ³•ï¼Œ é˜²æ­¢æ±¡æŸ“æ–‡å­—çš„æ ·å¼ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("//ç»˜åˆ¶æ–¹å—drawRect(x, y, width, height) {  this.ctx.save()  this.ctx.beginPath()  const gradient = this.getGradient()  this.ctx.fillStyle = gradient  this.ctx.strokeStyle = gradient  this.ctx.rect(x, y, width, height)  this.ctx.fill()  this.ctx.closePath()  this.ctx.restore()}\n")])])]),a("p",[t._v("å¦‚å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210801173700819.png",alt:"æ¸å˜å›¾"}})]),t._v(" "),a("h1",{attrs:{id:"æ·»åŠ åŠ¨ç”»æ•ˆæœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ åŠ¨ç”»æ•ˆæœ"}},[t._v("#")]),t._v(" æ·»åŠ åŠ¨ç”»æ•ˆæœ")]),t._v(" "),a("p",[t._v("å…‰ä¸€ä¸ªé™æ€çš„ä¸èƒ½çœ‹å‡ºæˆ‘ä»¬çš„ç‰›çš®ğŸ‚ï¼Œæ‰€ä»¥å¾—æœ‰åŠ¨ç”»çš„æ•ˆæœæ…¢æ…¢çš„å¢åŠ å¯¹å§ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥æ€è€ƒğŸ¤”ä¸‹æ•´ä¸ªåŠ¨ç”»è¿‡ç¨‹ï¼Œå˜åŒ–çš„å…¶å®å°±ä¸¤ä¸ªï¼Œ æŸ±çŠ¶å›¾çš„é«˜åº¦å’Œæ–‡å­—ï¼Œ  å…¶å®åæ ‡è½´ï¼Œ ä»¥åŠæŸ±çŠ¶å›¾çš„xåæ ‡æ˜¯ä¸å˜çš„ï¼Œ æ‰€ä»¥æˆ‘åªè¦å®šä¹‰ä¸¤ä¸ªå˜é‡ä¸€ä¸ªå¼€å§‹çš„å€¼ ï¼Œå’Œä¸€ä¸ªæ€»å…±çš„å€¼ï¼Œé«˜åº¦å’Œæ–‡å­—çš„å¤§å° å…¶å®åœ¨æ¯ä¸€å¸§å»ä¹˜ä»¥å¯¹åº”çš„é«˜åº¦å°±å¯ä»¥äº†ã€‚")]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// è¿åŠ¨ç›¸å…³this.ctr = 1this.numctr = 100\n")])])]),a("p",[t._v("æˆ‘ä»¬æ”¹é€ ä¸‹drawBars è¿™ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// æ¯ä¸€æ¬¡çš„æ¯”ä¾‹æ˜¯å¤šå°‘const dis = this.ctr / this.numctr// æŸ±çŠ¶å›¾çš„é«˜åº¦ ä¹˜ä»¥å¯¹åº”çš„æ¯”ä¾‹const barH = (count / max) * diff * dis// æ–‡å­—è¿™é‡Œå–æ•´ä¸‹ï¼Œå› ä¸ºæœ‰å¯èƒ½é™¤ä¸å°½ this.ctx.fillText(  parseInt(count * dis),  x + this.rectWidth / 2,  y - 5)// æœ€åæ‰§è¡ŒåŠ¨ç”»if (this.ctr < this.numctr) {  this.ctr++  requestAnimationFrame(() => {    this.ctx.clearRect(0, 0, this.width, this.height)    this.drawLineLabelMarkers()  })}\n")])])]),a("p",[t._v("æ¯ä¸€æ¬¡éƒ½åŠ ä¸€ï¼Œç›´åˆ°æ¯”æ€»æ•°å¤§ï¼Œ ç„¶åä¸æ–­é‡ç”»ã€‚ å°±å¯ä»¥å½¢æˆåŠ¨ç”»æ•ˆæœäº†ã€‚æˆ‘ä»¬çœ‹ä¸‹gifå›¾å§ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E5%A5%A5%E8%BF%90gif%E5%9B%BE.gif",alt:"å¥¥è¿gifå›¾"}})]),t._v(" "),a("h1",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("æœ¬ç¯‡æ–‡ç« å†™åˆ°è¿™é‡Œä¹Ÿç®—ç»“æŸäº†ï¼Œæˆ‘å¤§æ¦‚æ€»ç»“ä¸‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("canvaså¦‚ä½•ç”»å‡º1px çš„ç›´çº¿, è¿™é‡Œé¢æ˜¯æœ‰å‘çš„")]),t._v(" "),a("li",[t._v("è¿˜æœ‰å°±æ˜¯å¦‚ä½•è¿›è¡ŒåŠ¨ç”»çš„è®¾è®¡ï¼Œæœ¬è´¨å»å¯»æ‰¾é‚£äº›å˜çš„ï¼Œç„¶åå»å¤„ç†å°±å¥½äº†")]),t._v(" "),a("li",[t._v("canvas ä¸­å¦‚ä½•è¿›è¡Œçº¿æ€§æ¸å˜çš„ã€‚")]),t._v(" "),a("li",[t._v("çˆ¬è™«æˆ‘æ˜¯å¤±è´¥äº†ï¼Œæˆ‘å°±æ²¡å•¥å¥½æ€»ç»“çš„ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹ï¼š æœ¨å¶äººè¿™ä¸ªåº“ï¼Œ å¤§å®¶å¯ä»¥ç©ä¸€ä¸‹çš„ã€‚")])]),t._v(" "),a("p",[t._v("æœ¬ç¯‡æ–‡ç« ç®—æ˜¯canvaså®ç°å¯è§†åŒ–å›¾è¡¨çš„ç¬¬äºŒç¯‡å§ï¼Œåé¢æˆ‘ä¼šæŒç»­åˆ†äº«ã€é¥¼å›¾ã€æ ‘çŠ¶å›¾ã€Kçº¿å›¾ç­‰ç­‰å„ç§å¯è§†åŒ–å›¾è¡¨ï¼Œæˆ‘è‡ª")]),t._v(" "),a("p",[t._v("å·±åœ¨å†™æ–‡ç« çš„åŒæ—¶ä¹Ÿåœ¨ä¸æ–­åœ°æ€è€ƒï¼Œæ€ä¹ˆå»è¡¨è¾¾çš„æ›´å¥½ã€‚å¦‚æœä½ å¯¹å¯è§†åŒ–æ„Ÿå…´è¶£ï¼Œç‚¹èµæ”¶è—å…³æ³¨ğŸ‘å§ï¼ï¼Œå¯ä»¥å…³æ³¨æˆ‘ä¸‹")]),t._v(" "),a("p",[t._v("é¢çš„"),a("strong",[t._v("æ•°æ®å¯è§†åŒ–ä¸“æ ")]),t._v("ï¼Œ æ¯å‘¨åˆ†äº«ä¸€ç¯‡ æ–‡ç« ï¼Œ è¦ä¹ˆæ˜¯2dã€è¦ä¹ˆæ˜¯three.jsçš„ã€‚æˆ‘ä¼šç”¨å¿ƒåˆ›ä½œæ¯ä¸€ç¯‡æ–‡ç« ï¼Œç»ä¸æ°´æ–‡ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¸€èµ·ä¸ºä¸­å›½ğŸ‡¨ğŸ‡³å¥¥è¿åŠ æ²¹ï¼ å¥¥åˆ©ç»™ï¼ï¼ï¼")]),t._v(" "),a("h1",{attrs:{id:"æºç è·å¾—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æºç è·å¾—"}},[t._v("#")]),t._v(" æºç è·å¾—")]),t._v(" "),a("p",[t._v("å…³æ³¨å…¬ä¼—å·ã€å‰ç«¯å›¾å½¢ã€‘ï¼Œ å›å¤ã€å¥¥è¿ã€‘ ä¸¤ä¸ªå­—ï¼Œå°±å¯ä»¥è·å¾—æ‰€æœ‰æºç ã€‚")])])}),[],!1,null,null,null);s.default=r.exports}}]);