(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{567:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("å¤§å®¶å¥½ï¼ æˆ‘æ˜¯çƒ­çˆ±å›¾å½¢çš„fly, ä¹‹å‰åœ¨ç¾¤é‡Œå’Œç²‰ä¸è®¨è®ºcanvas å¦‚ä½•äº‹ä»¶ç³»ç»Ÿï¼Œ ç„¶åå‘¢ï¼Ÿ æˆ‘è‡ªå·±å…¶å®ä¹Ÿå¯¹è¿™ä¸ªæ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œ æˆ‘çœ‹è¿‡å¾ˆå¤šcanvas å®ç°çš„é¡¹ç›®ï¼Œ æ¯”å¦‚canvas å®ç°æ€ç»´å¯¼å›¾ "),a("strong",[t._v("xmind")]),t._v(" ï¼Œ canvas å®ç°ä¸€ä¸ª"),a("strong",[t._v("ç»˜å›¾å·¥å…·")]),t._v("ã€‚ ç„¶åå‘¢æ— è®ºæ˜¯å“ªä¸€ä¸ªï¼Œå…¶å®èƒŒåéƒ½æ˜¯åœ¨canavs èƒŒåå®ç°äº†ä¸€å¥—äº‹ä»¶ç³»ç»Ÿï¼Œå¯æƒœè¿™äº›æºç éƒ½ä¸å¼€æºã€‚æ‰€ä»¥æœ¬ç€å­¦ä¹ çš„æ¿€æƒ…ï¼Œ æˆ‘å‚è€ƒäº†ä¸€äº›æ–‡ç« å®ç°ä¸€ä¸ªç®€å•äº‹ä»¶ç³»ç»Ÿã€‚æœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦åˆ°ä¸‹é¢ğŸ‘‡è¿™äº›å†…å®¹")]),t._v(" "),a("ol",[a("li",[t._v("æˆ‘æ˜¯æ€ä¹ˆåŸºäºcanvaså»"),a("strong",[t._v("æ„å»ºåŸºç¡€æ¡†æ¶")]),t._v("çš„")]),t._v(" "),a("li",[t._v("å‡ ä½•ç®—æ³•â€”â€” "),a("strong",[t._v("åˆ¤æ–­ç‚¹æ˜¯ä¸æ˜¯ä»»æ„å¤šè¾¹å½¢å†…éƒ¨")])]),t._v(" "),a("li",[t._v("å¦‚ä½•è¿›è¡Œ"),a("strong",[t._v("äº‹ä»¶åˆ†å‘")]),t._v("å’Œ"),a("strong",[t._v("é˜»æ­¢äº‹ä»¶å†’æ³¡")])])]),t._v(" "),a("p",[t._v("æœ¬ç¯‡æ–‡ç« æˆ‘å…¨æ˜¯å¹²è´§ã€‚æ¬¢è¿ç‚¹èµã€å…³æ³¨ã€æ”¶è—ã€‚")]),t._v(" "),a("h1",{attrs:{id:"åŸºç¡€æ¡†æ¶çš„æ­å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€æ¡†æ¶çš„æ­å»º"}},[t._v("#")]),t._v(" åŸºç¡€æ¡†æ¶çš„æ­å»º")]),t._v(" "),a("h2",{attrs:{id:"å›¾å½¢ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å›¾å½¢ç±»"}},[t._v("#")]),t._v(" å›¾å½¢ç±»")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ­¥æˆ‘è¦åšçš„äº‹å°±æ˜¯è¿›è¡Œæ¦‚å¿µæŠ½è±¡ï¼Œå¤§å®¶å»æƒ³ä¸€ä¸‹ï¼Œcanvasæœ¬è´¨æ˜¯ä¸€å±‚ç”»å¸ƒï¼Œç„¶åç”»å¸ƒä¸Šå¾ˆå¤šå›¾å½¢ï¼Œæœ‰é•¿æ–¹å½¢ã€åœ†å½¢ã€ä»¥åŠä»»æ„é—­åˆçš„å¤šè¾¹å½¢.  ä»é¢å‘å¯¹è±¡çš„è§’åº¦è€ƒè™‘çš„è¯ï¼Œ æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªåŸºç±» â€”â€” "),a("strong",[t._v("shape")]),t._v("  æ¯ä¸ªå›¾å½¢æ˜¯ä¸æ˜¯éƒ½åœ¨canvas å»æ˜¾ç¤ºï¼Œæ‰€ä»¥éƒ½åº”è¯¥æœ‰ä¸€ä¸ª")]),t._v(" "),a("p",[t._v("draw æ–¹æ³•ï¼Œ è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å°±æ˜¯åˆ¤æ–­é¼ æ ‡çš„ç‚¹ æ˜¯ä¸æ˜¯åœ¨å½“å‰å›¾å½¢çš„å†…éƒ¨ï¼Œè¿™ä¸ªæˆ‘æˆ‘ä»¬åé¢åœ¨è®¨è®ºå§ã€‚ ç„¶åæ¯ä¸ªå›¾å½¢æœ‰è‡ªå·±çš„ç‰¹æœ‰çš„å±æ€§ï¼Œç»“åˆcanvas çš„api å»è®¾ç½®ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Circle")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shape")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­é¼ æ ‡çš„ç‚¹æ˜¯å¦åœ¨å›¾å½¢å†…éƒ¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPointInClosedRegion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("mouse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Rect")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shape")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­é¼ æ ‡çš„ç‚¹æ˜¯å¦åœ¨å›¾å½¢å†…éƒ¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPointInClosedRegion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("mouse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢ä¸¤ä¸ªå›¾å½¢çœ‹ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸ä¸€æ ·çš„"),a("strong",[t._v("draw")]),t._v("æ–¹æ³•,  æˆ‘ç»™ä½ 1åˆ†é’Ÿæ—¶é—´æ€è€ƒğŸ¤”ä¸‹ï¼Œcanvas æ˜¯å¦‚ä½•ç”»çŸ©å½¢å’Œç”»åœ†çš„ã€‚ å…¶å® å°±æ˜¯ä¸¤ä¸ªapiä¸€ä¸ª "),a("strong",[t._v("arc")]),t._v("ä¸€ä¸ª"),a("strong",[t._v("rect")]),t._v(" ç„¶å ä½ ä¼ å…¥å¯¹åº”çš„å‚æ•°å°±å¥½äº†ã€‚è¿™é‡Œæ²¡ä»€ä¹ˆï¼Œ ä¸çŸ¥é“çš„åŒå­¦å¯ä»¥å»MDNå»çœ‹ä¸‹ï¼Œ æˆ‘å·²ç»è®²äº†å¾ˆå¤šç¯‡äº†ã€‚æˆ‘å°±ç›´æ¥ç»™å‡ºä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" radius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fillColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" center\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beginPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fillColor\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" radius"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("restore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™æ˜¯åœ†çš„ï¼Œ save å’Œ restore çš„æ–¹æ³• å¦™å¤„ å°±æ˜¯ æ¯”å¦‚æˆ‘ç»™åœ†è®¾ç½®çº¢è‰² ï¼Œå¦‚æœæˆ‘å†å»ç”»çŸ©å½¢ï¼Œ çŸ©å½¢ä¹Ÿä¼šå˜æˆçº¢è‰²ï¼Œ è¿™æ ·å°±ä¸å¯æ§äº†ï¼Œåœ†çš„è¯å°±æ˜¯ åœ†å¿ƒ åŠ  åŠå¾„ï¼ŒåŠ å¡«å……é¢œè‰²ã€‚")]),t._v(" "),a("p",[t._v("çœ‹å®Œåœ†çš„æˆ‘ä»¬åœ¨çœ‹ä¸‹çŸ©å½¢çš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" leftTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fillColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" leftTop\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beginPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fillColor\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fillRect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("restore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("çŸ©å½¢çš„å±æ€§ ä¸€ä¸ªå·¦ä¸Šè§’çš„ç‚¹ä¸€ä¸ªé•¿åº¦ï¼Œä¸€ä¸ªå®½åº¦ã€‚ok ,åˆ°è¿™é‡Œå›¾å½¢åŸºæœ¬æ­å»ºå®Œæˆï¼Œä¸‹é¢å¼€å§‹æ­å»ºç”»å¸ƒç±»")]),t._v(" "),a("h2",{attrs:{id:"ç”»å¸ƒç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”»å¸ƒç±»"}},[t._v("#")]),t._v(" ç”»å¸ƒç±»")]),t._v(" "),a("p",[t._v("ç”»å¸ƒç±»çš„ç›®å‰åšçš„äº‹æƒ…éå¸¸ç®€å•å“ˆï¼Œåˆå§‹åŒ–ä¸€äº›å±æ€§ã€‚é¦–å…ˆä»–æœ‰ä¸ªadd() æ–¹æ³•ï¼Œå»å¾€ç”»å¸ƒå¢åŠ å„ä¸ªå›¾å½¢ã€‚å¢åŠ çš„å›¾å½¢ï¼Œæ¯ä¸€ä¸ªå›¾å½¢å†…éƒ¨éƒ½å»å®ç°äº†"),a("strong",[t._v("draw")]),t._v(" æ–¹æ³•ã€‚è¿™æ ·å®ç°äº†å¾€canvas åŠ å›¾å½¢çš„æ“ä½œå“ˆã€‚ç›´æ¥çœ‹ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºä¸€ä¸ªç”»å¸ƒç±»")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Canvas")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2d'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œæˆ‘ä»¬å†™ä¸€äº›ä»£ç æµ‹è¯•ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" canvas "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Canvas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" circle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Circle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  center"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  radius"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  fillColor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'green'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rect "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Rect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  leftTop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  fillColor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ ")]),t._v("\ncanvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("circle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncanvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™æ ·å†™ä»£ç æ˜¯ä¸æ˜¯æ„Ÿè§‰ååˆ†çš„èˆ’æœï¼Œ å¾ˆæ¸…é™¤ï¼Œ å¯è¯»æ€§éå¸¸çš„é«˜å“‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815192814301.png",alt:"ç”»å¸ƒåˆ›å»º"}})]),t._v(" "),a("p",[t._v("OKï¼Œçœ‹æ¥æˆ‘ä»¬å†™çš„ä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¸‹é¢å†™ä¸€ä¸ªç¨å¾®å¤æ‚çš„å›¾å½¢ï¼Œä»»æ„ç‚¹ç»„æˆçš„é—­åˆ"),a("strong",[t._v("polygon")])]),t._v(" "),a("h2",{attrs:{id:"polygonç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#polygonç±»"}},[t._v("#")]),t._v(" polygonç±»")]),t._v(" "),a("p",[t._v("åŒæ ·æ˜¯ä¹Ÿæ˜¯æœ‰draw å’Œ isPointInClosedRegion è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•ï¼Œ ç”»å›¾çš„è¿™ä¸ªæ–¹æ³•å‘¢ï¼Œ å±æ€§å°±æ˜¯ä¸€å †2dç‚¹ï¼Œ ç¬¬ä¸€ä¸ªç‚¹æ˜¯ç§»åŠ¨ç”»ç¬”ğŸ–Œï¼Œ å…¶ä½™çš„ç‚¹è°ƒç”¨canvas "),a("strong",[t._v("lineTo")]),t._v("çš„æ–¹æ³•ã€‚ ç„¶å é—­åˆåŒºåŸŸå°±å¥½äº† ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Polygon")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shape")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fillColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("beginPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fillColor\n    points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" point\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lineTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("restore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDispersed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("points\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPointInClosedRegion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æµ‹è¯•çš„è¯ï¼Œæˆ‘æ˜¯éšæœºåœ¨ç”»å¸ƒå–äº†5ä¸ªç‚¹ï¼Œ æˆ‘ç”¨äº†æˆ‘ä¹‹å‰å†™çš„"),a("strong",[t._v("Point2d")]),t._v("ç±»ï¼Œ ä¸Šæœ‰ä¸ªrandomæ–¹æ³•ï¼Œ ä¼ å…¥canvas çš„é•¿åº¦å’Œå®½åº¦ã€‚ä¸æ¸…æ¥šçš„åŒå­¦çœ‹çœ‹æˆ‘ä¹‹å‰å†™ "),a("strong",[t._v("canvaså®ç°ç‚¹çš„ç§»åŠ¨")]),t._v("ï¼Œ é‚£é‡Œ æˆ‘æœ‰è¯¦ç»†ä»‹ç»è¿‡ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" points "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Point2d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Polygon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  fillColor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'orange'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ·»åŠ åˆ°ç”»å¸ƒä¸­")]),t._v("\ncanvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬çœ‹ä¸‹ç»“æœï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815194130841.png",alt:"ä¸‰ä¸ªå›¾å½¢"}})]),t._v(" "),a("h2",{attrs:{id:"åŸºç±»shape"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç±»shape"}},[t._v("#")]),t._v(" åŸºç±»shape")]),t._v(" "),a("p",[t._v("å†™åˆ°è¿™é‡Œå°±æœ‰äººé—®åˆ°ï¼Œ è¿™ä¸ªä¸‰ä¸ªç±» éƒ½ç»§æ‰¿ åŸºç±» shape, shape æœ‰ä»€ä¹ˆé€šç”¨çš„èƒ½åŠ›å‘¢ï¼Ÿ è¿™é‡Œå¼€å§‹åˆ°æˆ‘ä»¬æœ¬æ–‡çš„ä¸»é¢˜äº†ï¼Œ å°±æ˜¯æ¯ä¸ªå›¾å½¢çš„æ˜¯ä¸æ˜¯æœ‰ç›‘å¬äº‹ä»¶ï¼Œ äº‹ä»¶æœ‰å¾ˆå¤šç§ç±»å‹ã€‚æ¯ä¸ªç±»å‹ä¸‹è‚¯å®šæœ‰ä¸€å¤§å †çš„ç›‘å¬å‡½æ•°ï¼Œ OK ï¼Œé¦–å…ˆè¿™æ˜¯å¤§å®¶é€šç”¨çš„èƒ½åŠ›ï¼Œ æˆ–è€…æ˜¯å¤§å®¶éƒ½éœ€è¦çš„é¢ä¸œè¥¿ï¼Œ æˆ‘ä»¬å°±æŠŠæ”¾åœ¨åŸºç±»ä¸­å°±å¥½äº†ï¼Œ é‚£ä¹ˆæˆ‘ä»¬ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„å»å­˜å‚¨å‘¢â€”â€” è¿™ç§key Value ä¸€çœ‹å°±æ˜¯ç”¨"),a("strong",[t._v("Map")]),t._v(", è¡Œå§æˆ‘ä»¬çœ‹ä¸‹ä»£ç å§ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å›¾å½¢çš„åŸºç±»")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shape")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listenerMap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("eventName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listenerMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listenerMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listenerMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("listener"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("On è¿™ä¸ªæ–¹æ³•å“ˆï¼Œ ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åå­—ï¼Œ ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯listeneräº†ï¼Œ OKåˆ°ç›®å‰ä¸ºæ­¢ï¼Œ æ¯ä¸ªå›¾å½¢å¯¹åº”çš„äº‹ä»¶ï¼Œéƒ½æœ‰äº†listenerã€‚")]),t._v(" "),a("h1",{attrs:{id:"äº‹ä»¶åˆ†å‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶åˆ†å‘"}},[t._v("#")]),t._v(" äº‹ä»¶åˆ†å‘")]),t._v(" "),a("p",[t._v("è¿™ä¸ªå°èŠ‚ï¼Œå°±æ˜¯å°†æ‰€æœ‰canvas ç»‘å®šçš„äº‹ä»¶ï¼Œä¼ é€’åˆ°æ¯ä¸ªå›¾å½¢ä¸Šå»ã€‚ç¬¬ä¸€æ­¥å“ˆï¼Œæˆ‘ä»¬é¦–å…ˆä¸º"),a("strong",[t._v("canvas")]),t._v(" ç»‘å®šç›‘å¬å‡½æ•°ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å°Tipsï¼š ä¸ºcanvas å¢åŠ é”®ç›˜äº‹ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ç»™canvas å¢åŠ ä¸€ä¸ªå±æ€§ "),a("strong",[t._v("tabinex = 0")]),t._v(" , ä¸ç„¶ ç»‘å®šæ— æ•ˆã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("move"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("move"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handleEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Move å’Œclick æ˜¯æˆ‘å®šä¹‰ä¸ªä¸¤ä¸ªå¸¸é‡å“ˆï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" move "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" click "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousedown'")]),t._v("\n")])])]),a("p",[t._v("handleEvent è¿™ä¸ªæ–¹æ³• ç”¨åˆ°äº†å‡½æ•°å¼ç¼–ç¨‹ï¼Œ å°†äº‹ä»¶åå­— å’Œé€»è¾‘ è¿›è¡Œè§£è€¦å“‡ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰äº‹ä»¶çš„æ‰€æœ‰ç›‘å¬è€…      const listerns = shape.listenerMap.get(name)      if ( listerns ) {        listerns.forEach((listener) => listener(event))      }    })  }")]),t._v("\n")])])]),a("p",[t._v("è¿™æ ·å…¶å®å°±å®ç°äº†äº‹ä»¶çš„åˆ†å‘ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("circle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//event.isStopBubble = true  console.log(event, 'circle')})rect.on(click, (event) => {  console.log(event, 'rect')})")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%82%B9%E5%87%BB.gif",alt:"äº‹ä»¶ç³»ç»Ÿç‚¹å‡»"}})]),t._v(" "),a("p",[t._v("ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°é—®é¢˜ï¼Œ è™½ç„¶æˆ‘ä»¬å®ç°äº†äº‹ä»¶åˆ†å‘ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ª"),a("strong",[t._v("é—®é¢˜")]),t._v("ï¼Œæˆ‘åœ¨ç”»å¸ƒä¸Šä»»æ„ä¸€ç‚¹å‡»ï¼Œ éƒ½ä¼šè§¦å‘ï¼Œå¯èƒ½å…¶å®æˆ‘ç‚¹å‡»çš„æ ¹æœ¬ä¸åœ¨æˆ‘ç”»çš„å›¾å½¢å†…éƒ¨ã€‚æ‰€ä»¥æˆ‘ä»¬è¿›è¡Œäº‹ä»¶åˆ†å‘çš„æ—¶å€™ï¼Œè¿˜è¦åˆ¤æ–­ä¸‹é¼ æ ‡çš„ç‚¹ æ˜¯ä¸æ˜¯åœ¨é—­åˆçš„åŒºåŸŸå†…éƒ¨ã€‚æ‰€ä»¥è¯´å‘¢ï¼Œæ¯ä¸€ä¸ªshape å†…éƒ¨éƒ½è¦å»å®ç° "),a("strong",[t._v("isPointInClosedRegion")]),t._v("  è¿™ä¸ªæ–¹æ³•ã€‚")]),t._v(" "),a("h2",{attrs:{id:"åœ†çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ†çš„å®ç°"}},[t._v("#")]),t._v(" åœ†çš„å®ç°")]),t._v(" "),a("p",[t._v("åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯ä¸æ˜¯åœ¨äºåœ†å†…ï¼Œè¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œä¸»è¦å»æ¯”"),a("strong",[t._v("è¾ƒ é¼ æ ‡çš„ç‚¹ å’Œåœ†å¿ƒçš„è·ç¦» ä¸ åŠå¾„åšæ¯”è¾ƒ")]),t._v("ï¼Œç„¶åå°±å¯ä»¥åˆ¤æ–­äº†å“ˆï¼Œ è¿™ä¸ªæ²¡ä»€ä¹ˆã€‚ç›´æ¥ä¸Šä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" radius "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propsreturn mouse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("distance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("center"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" radius "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" radius\n")])])]),a("h2",{attrs:{id:"çŸ©å½¢çš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çŸ©å½¢çš„å®ç°"}},[t._v("#")]),t._v(" çŸ©å½¢çš„å®ç°")]),t._v(" "),a("p",[t._v("åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯ä¸æ˜¯åœ¨çŸ©å½¢å†…ï¼Œ è¿™é‡Œå…¶å®æœ‰ä¸ªåŒ…å›´ç›’çš„æ¦‚å¿µï¼Œä½†æ˜¯çŸ©å½¢ æœ¬æ¥å°±æ˜¯æ–¹æ–¹æ­£æ­£çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€éƒ¨æ ¹æ®ï¼Œ å·¦ä¸Šè§’çš„ç‚¹ï¼Œç®—å‡ºçŸ©å½¢çš„minXï¼Œ minY, maxX,maxY ç„¶å å»æ‹¿é¼ æ ‡çš„ç‚¹å»æ¯”è¾ƒå°±å¥½äº†ã€‚ è¿™é‡Œæˆ‘ç»™å¤§å®¶ç”»ä¸ªå›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815202206407.png",alt:"çŸ©å½¢çš„åŒ…å›´ç›’"}})]),t._v(" "),a("p",[t._v("çœ‹åˆ°è¿™å¼ å›¾åº”è¯¥ä¸ç”¨è¯´ä»€ä¹ˆäº†ï¼Œ ç›´æ¥ä¸Šä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­é¼ æ ‡çš„ç‚¹æ˜¯å¦åœ¨å›¾å½¢å†…éƒ¨  isPointInClosedRegion(mouse) {    const { x, y } = mouse.point    const { leftTop, width, height } = this.props    const { x: minX, y: minY } = leftTop    const maxX = minX + width    const maxY = minY + height    if (x >= minX && x <= maxX && y >= minY && y <= maxY) {      return true    }    return false  }")]),t._v("\n")])])]),a("h1",{attrs:{id:"ç‚¹åœ¨ä»»æ„å¤šè¾¹å½¢å†…-ç®—æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç‚¹åœ¨ä»»æ„å¤šè¾¹å½¢å†…-ç®—æ³•"}},[t._v("#")]),t._v(" ç‚¹åœ¨ä»»æ„å¤šè¾¹å½¢å†…ï¼ˆç®—æ³•ï¼‰")]),t._v(" "),a("p",[t._v("ç®€å•çš„å›¾å½¢æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ•°å­¦å…³ç³»å»æ¯”è¾ƒï¼Œä½†æ˜¯å¤æ‚çš„å¤šè¾¹å½¢å‘¢ï¼Œ å¤šè¾¹å½¢åˆ†ä¸º "),a("strong",[t._v("å‡¹å¤šè¾¹å½¢")]),t._v(" å’Œ"),a("strong",[t._v("å‡¸å¤šè¾¹å½¢")]),t._v("ã€‚é‚£æˆ‘ä»¬è¯¥æ€ä¹ˆå»è§£å†³å‘¢ï¼Ÿç¤¾åŒºæœ‰ä¸‹é¢å‡ ç§æ–¹æ³•ï¼š")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("å¼•å°„çº¿æ³•")]),t._v("ï¼šä»ç›®æ ‡ç‚¹å‡ºå‘å¼•ä¸€æ¡å°„çº¿ï¼Œçœ‹è¿™æ¡å°„çº¿å’Œå¤šè¾¹å½¢æ‰€æœ‰è¾¹çš„äº¤ç‚¹æ•°ç›®ã€‚å¦‚æœæœ‰å¥‡æ•°ä¸ªäº¤ç‚¹ï¼Œåˆ™è¯´æ˜åœ¨å†…éƒ¨ï¼Œå¦‚æœæœ‰å¶æ•°ä¸ªäº¤ç‚¹ï¼Œåˆ™è¯´æ˜åœ¨å¤–éƒ¨ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("é¢ç§¯å’Œåˆ¤åˆ«æ³•")]),t._v("ï¼šåˆ¤æ–­ç›®æ ‡ç‚¹ä¸å¤šè¾¹å½¢çš„æ¯æ¡è¾¹ç»„æˆçš„ä¸‰è§’å½¢é¢ç§¯å’Œæ˜¯å¦ç­‰äºè¯¥å¤šè¾¹å½¢ï¼Œç›¸ç­‰åˆ™åœ¨å¤šè¾¹å½¢å†…éƒ¨ã€‚")])]),t._v(" "),a("p",[t._v("å…·ä½“åšæ³•ï¼šå°†æµ‹è¯•ç‚¹çš„Yåæ ‡ä¸å¤šè¾¹å½¢çš„æ¯ä¸€ä¸ªç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæµ‹è¯•ç‚¹æ‰€åœ¨çš„è¡Œä¸å¤šè¾¹å½¢è¾¹çš„äº¤ç‚¹çš„åˆ—è¡¨ã€‚åœ¨ä¸‹å›¾çš„è¿™ä¸ªä¾‹å­ä¸­æœ‰8æ¡è¾¹ä¸æµ‹è¯•ç‚¹æ‰€åœ¨çš„è¡Œç›¸äº¤ï¼Œè€Œæœ‰6æ¡è¾¹æ²¡æœ‰ç›¸äº¤ã€‚å¦‚æœæµ‹è¯•ç‚¹çš„ä¸¤è¾¹ç‚¹çš„ä¸ªæ•°éƒ½æ˜¯å¥‡æ•°ä¸ªåˆ™è¯¥æµ‹è¯•ç‚¹åœ¨å¤šè¾¹å½¢å†…ï¼Œå¦åˆ™åœ¨å¤šè¾¹å½¢å¤–ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­æµ‹è¯•ç‚¹çš„å·¦è¾¹æœ‰5ä¸ªäº¤ç‚¹ï¼Œå³è¾¹æœ‰ä¸‰ä¸ªäº¤ç‚¹ï¼Œå®ƒä»¬éƒ½æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥ç‚¹åœ¨å¤šè¾¹å½¢å†…ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815203222867.png",alt:"example"}})]),t._v(" "),a("p",[a("strong",[t._v("è¿™é‡Œæœ‰äººä¼šé—®ä¸ºä»€ä¹ˆå¥‡æ•°æ˜¯åœ¨å†…éƒ¨ï¼Œ å¶æ•°æ˜¯åœ¨å¤–éƒ¨å‘¢ï¼Ÿ")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¥æœ€ç®€å•çš„ä¾‹å­ï¼Œå¸¦ä½ å»è§£é‡Šä¸ºä»€ä¹ˆï¼Ÿè¿™æ—¶å€™åˆåˆ°äº†ï¼Œ ç”»å›¾æ—¶åˆ»ï¼š")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆä»å†…éƒ¨é€‰ä¸€ä¸ªç‚¹ï¼Œç„¶åå‘ä»»æ„æ–¹å‘å‘å‡ºä¸€æ¡å°„çº¿ã€‚ ä½ ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°„çº¿ç¬¬ä¸€æ¬¡ä¸ç›´çº¿ç›¸äº¤ å«åš  "),a("strong",[t._v("ç©¿å…¥")]),t._v("ï¼Œ åé¢å†ç›¸äº¤ å«åš"),a("strong",[t._v("ç©¿å‡º")]),t._v("ï¼Œ ä½ ä¼šå‘ç°å†…éƒ¨çš„æœ€åæ°¸è¿œæ˜¯ç©¿å…¥ï¼Œæ²¡æœ‰ç©¿å‡ºï¼Œ ä½†æ˜¯å¤–éƒ¨çš„ç‚¹ï¼Œ æ°¸è¿œç©¿å…¥çš„åŒæ—¶ï¼Œ ç„¶åç©¿å‡ºã€‚æœ€åæ°¸è¿œæ˜¯"),a("strong",[t._v("ç©¿å‡º")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815215039500.png",alt:"å†…éƒ¨çš„ç‚¹"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815215142806.png",alt:"å¤–éƒ¨çš„ç‚¹"}})]),t._v(" "),a("h2",{attrs:{id:"ç®—æ³•å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®—æ³•å®ç°"}},[t._v("#")]),t._v(" ç®—æ³•å®ç°")]),t._v(" "),a("p",[t._v("è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªä¸»è¦çš„ç®—æ³•å°±æ˜¯ çº¿æ®µ å’Œçº¿æ®µæ±‚"),a("strong",[t._v("ç„¦ç‚¹")]),t._v("ã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ª"),a("strong",[t._v("Seg2d")]),t._v("çš„ç±» çº¿æ®µè‚¯å®šæ˜¯æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Seg2d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_asVector "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reverse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Seg2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Seg2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asVector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_asVector "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_asVector "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endPoints"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™éƒ½æ˜¯åŸºæœ¬æ“ä½œæ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œ ä¸»è¦åœ¨ç±»ä¸Š å®ç°äº† ä¸¤ä¸ªé™æ€æ–¹æ³•")]),t._v(" "),a("ol",[a("li",[t._v("å¤šä¸ªç‚¹è½¬æˆçº¿æ®µ")]),t._v(" "),a("li",[t._v("çº¿æ®µå’Œçº¿æ®µç›¸äº¤")])]),t._v(" "),a("p",[t._v("æˆ‘å…ˆæ¥è®²ç¬¬ä¸€ä¸ªï¼Œå› ä¸ºæˆ‘ä»¬æˆ‘ä»¬ä¼ ç»™ä»»æ„å¤šè¾¹å½¢çš„å°±æ˜¯ ç‚¹çš„é›†åˆï¼Œ æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—å°†è¿™äº›ç‚¹è¿æˆçº¿æ®µç»„æˆé—­åˆåŒºåŸŸã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸€å †ç‚¹ è·å¾—é—­åˆä¸€å †çº¿æ®µ  static getSegments(points, closed = false) {    const list = []    for (let i = 1; i < points.length; i++) {      list.push(new Seg2d(points[i - 1], points[i]))    }    if (closed && !points[0].equal(points[points.length - 1])) {      list.push(new Seg2d(points[points.length - 1], points[0]))    }    return list  }")]),t._v("\n")])])]),a("p",[t._v("Closed è¿™ä¸ªå‚æ•°ï¼Œ å› ä¸ºåŒºåŸŸæ˜¯æ»¡è¶³ä¸€ä¸ªæ–¹å‘çš„ã€‚æ‰€ä»¥é—­åˆåŒºåŸŸ è‚¯å®šæ˜¯é¦–å°¾ç›¸è¿çš„ã€‚")]),t._v(" "),a("h2",{attrs:{id:"çº¿æ®µå’Œçº¿æ®µæ±‚ç„¦ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#çº¿æ®µå’Œçº¿æ®µæ±‚ç„¦ç‚¹"}},[t._v("#")]),t._v(" çº¿æ®µå’Œçº¿æ®µæ±‚ç„¦ç‚¹")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("åˆ—æ–¹ç¨‹æ±‚ä¸¤ä¸ªç›´çº¿çš„ç„¦ç‚¹")])]),t._v(" "),a("li",[a("strong",[t._v("åˆ¤æ–­æ¯ä¸€æ¡çº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯å¦éƒ½åœ¨å¦ä¸€æ¡çº¿æ®µçš„ä¸¤ä¾§, æ˜¯åˆ™æ±‚å‡ºä¸¤æ¡çº¿æ®µæ‰€åœ¨ç›´çº¿çš„äº¤ç‚¹, å¦åˆ™ä¸ç›¸äº¤.")])])]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬ç”¨ç¬¬äºŒç§æ–¹æ³•å»å®ç° ï¼š")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ­¥åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦åœ¨æŸæ¡çº¿æ®µçš„ä¸¤ä¾§, é€šå¸¸å¯é‡‡ç”¨æŠ•å½±æ³•:")]),t._v(" "),a("p",[t._v("æ±‚å‡ºçº¿æ®µçš„æ³•çº¿å‘é‡, ç„¶åæŠŠç‚¹æŠ•å½±åˆ°æ³•çº¿ä¸Š, æœ€åæ ¹æ®æŠ•å½±çš„ä½ç½®æ¥åˆ¤æ–­ç‚¹å’Œçº¿æ®µçš„å…³ç³». è§ä¸‹å›¾")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210815221634329.png",alt:"æŠ•å½±å›¾"}})]),t._v(" "),a("p",[t._v("ç‚¹aå’Œç‚¹båœ¨çº¿æ®µcdæ³•çº¿ä¸Šçš„æŠ•å½±å¦‚å›¾æ‰€ç¤º, è¿™æ—¶å€™æˆ‘ä»¬è¿˜è¦åšä¸€æ¬¡çº¿æ®µcdåœ¨è‡ªå·±æ³•çº¿ä¸Šçš„æŠ•å½±(é€‰æ‹©ç‚¹cæˆ–ç‚¹dä¸­çš„ä¸€ä¸ªå³å¯).\nä¸»è¦ç”¨æ¥åšå‚è€ƒ.\nå›¾ä¸­ç‚¹aæŠ•å½±å’Œç‚¹bæŠ•å½±åœ¨ç‚¹cæŠ•å½±çš„ä¸¤ä¾§, è¯´æ˜çº¿æ®µabçš„ç«¯ç‚¹åœ¨çº¿æ®µcdçš„ä¸¤ä¾§.")]),t._v(" "),a("p",[t._v("åŒç†, å†åˆ¤æ–­ä¸€æ¬¡cdæ˜¯å¦åœ¨çº¿æ®µabä¸¤ä¾§å³å¯.")]),t._v(" "),a("p",[t._v("æ±‚æ³•çº¿ , æ±‚æŠ•å½± ä»€ä¹ˆçš„å¬èµ·æ¥å¾ˆå¤æ‚çš„æ ·å­,  çš†æœ‰å…¬å¼å¯å¾ª:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const nx=b.y - a.y,       ny=a.x - b.x;  const normalLine = {  x: nx, y: ny };  \n")])])]),a("p",[t._v("æ±‚ç‚¹cåœ¨æ³•çº¿ä¸Šçš„æŠ•å½±ä½ç½®:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("const dist= normalLine.x*c.x + normalLine.y*c.y;  \n")])])]),a("p",[a("strong",[t._v('æ³¨æ„: è¿™é‡Œçš„"æŠ•å½±ä½ç½®"æ˜¯ä¸€ä¸ªæ ‡é‡, è¡¨ç¤ºçš„æ˜¯åˆ°æ³•çº¿åŸç‚¹çš„è·ç¦», è€Œä¸æ˜¯æŠ•å½±ç‚¹çš„åæ ‡.')])]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬æŠŠå›¾ä¸­ ç‚¹aæŠ•å½±(distA),ç‚¹bæŠ•å½±(distB),ç‚¹cæŠ•å½±(distC) éƒ½æ±‚å‡ºæ¥ä¹‹å, å°±å¯ä»¥å¾ˆå®¹æ˜“çš„æ ¹æ®å„è‡ªçš„å¤§å°åˆ¤æ–­å‡ºç›¸å¯¹ä½ç½®.")]),t._v(" "),a("p",[t._v("distA==distB==distC æ—¶, ä¸¤æ¡çº¿æ®µå…±çº¿\ndistA==distB!=distC æ—¶, ä¸¤æ¡çº¿æ®µå¹³è¡Œ\ndistA å’Œ distB åœ¨distC åŒä¾§æ—¶, ä¸¤æ¡çº¿æ®µä¸ç›¸äº¤.\ndistA å’Œ distB åœ¨distC å¼‚ä¾§æ—¶, ä¸¤æ¡çº¿æ®µæ˜¯å¦ç›¸äº¤éœ€è¦å†åˆ¤æ–­ç‚¹cç‚¹dä¸çº¿æ®µabçš„å…³ç³».")]),t._v(" "),a("p",[t._v("è¿™ä¸ªä¼˜åŒ– å°±ä¼˜åŒ–åœ¨è¿™é‡Œï¼Œ å›å»åšä¸€å±‚æ£€æµ‹ï¼Œ ç„¶åå†å»æ±‚ç„¦ç‚¹ï¼Œ æ±‚ç„¦ç‚¹ç”¨çš„ä¹Ÿæ˜¯å›ºå®šå…¬å¼ã€‚ æˆ‘ç»™å‡ºä¸‹é¢å®ç°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lineLineIntersect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("line1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" line2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" line1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" line1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" line2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" line2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" interInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//çº¿æ®µabçš„æ³•çº¿N1    const nx1 = b.y - a.y,      ny1 = a.x - b.x    //çº¿æ®µcdçš„æ³•çº¿N2    const nx2 = d.y - c.y,      ny2 = c.x - d.x    //ä¸¤æ¡æ³•çº¿åšå‰ä¹˜, å¦‚æœç»“æœä¸º0, è¯´æ˜çº¿æ®µabå’Œçº¿æ®µcdå¹³è¡Œæˆ–å…±çº¿,ä¸ç›¸äº¤    const denominator = nx1 * ny2 - ny1 * nx2    if (denominator == 0) {      return interInfo    }    //åœ¨æ³•çº¿N2ä¸Šçš„æŠ•å½±    const distC_N2 = nx2 * c.x + ny2 * c.y    const distA_N2 = nx2 * a.x + ny2 * a.y - distC_N2    const distB_N2 = nx2 * b.x + ny2 * b.y - distC_N2    // ç‚¹aæŠ•å½±å’Œç‚¹bæŠ•å½±åœ¨ç‚¹cæŠ•å½±åŒä¾§ (å¯¹ç‚¹åœ¨çº¿æ®µä¸Šçš„æƒ…å†µ,æœ¬ä¾‹å½“ä½œä¸ç›¸äº¤å¤„ç†);    if (distA_N2 * distB_N2 >= 0) {      return interInfo    }    //    //åˆ¤æ–­ç‚¹cç‚¹d å’Œçº¿æ®µabçš„å…³ç³», åŸç†åŒä¸Š    //    //åœ¨æ³•çº¿N1ä¸Šçš„æŠ•å½±    const distA_N1 = nx1 * a.x + ny1 * a.y    const distC_N1 = nx1 * c.x + ny1 * c.y - distA_N1    const distD_N1 = nx1 * d.x + ny1 * d.y - distA_N1    if (distC_N1 * distD_N1 >= 0) {      return interInfo    }    //è®¡ç®—äº¤ç‚¹åæ ‡    const fraction = distA_N2 / denominator    const dx = fraction * ny1,      dy = -fraction * nx1    interInfo.push(new Point2d(a.x + dx, a.y + dy))    return interInfo  }")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ªok ä¹‹åï¼Œæˆ‘ä»¬å»æŠŠä»»æ„å¤šè¾¹å½¢çš„æ–¹æ³•çš„æ˜¯å¦åœ¨é—­åˆåŒºåŸŸå†…çš„æ–¹æ³•å»å®ç°ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPointInClosedRegion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" allSegs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Seg2d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSegments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDispersed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€‰å–ä»»æ„ä¸€æ¡å°„çº¿    const start = event.point    const xAxias = new Point2d(1, 0).multiplyScalar(800)    const end = start.clone().add(xAxias)    const anyRaySeg = new Seg2d(start, end)    let total = 0    allSegs.forEach((item) => {      const intersetSegs = Seg2d.lineLineIntersect(item, anyRaySeg)      total += intersetSegs.length    })    // å¥‡æ•°åœ¨å†…éƒ¨    if (total % 2 === 1) {      return true    }    return false  }")]),t._v("\n")])])]),a("p",[t._v("ä»»æ„å°„çº¿ï¼Œæˆ‘ä»¥é¼ æ ‡çš„ç‚¹ï¼Œä½œä¸ºèµ·å§‹ç‚¹ï¼Œ æ–¹å‘æ˜¯Xè½´ï¼Œ ç®—å‡ºç»ˆç‚¹ã€‚  ç„¶åå¾—åˆ°ä»»æ„çº¿æ®µã€‚å»å’Œæ‰€æœ‰çº¿æ®µ å»æ±‚ç„¦ç‚¹ã€‚  ç»Ÿè®¡ç„¦ç‚¹ä¸ªæ•°ï¼Œ æ¥ç¡®å®šæ˜¯ä¸æ˜¯åœ¨å†…éƒ¨ã€‚")]),t._v(" "),a("p",[t._v("OKï¼Œ è¿™æ—¶å€™æˆ‘ä»¬å§è§¦å‘äº‹ä»¶çš„æ¡ä»¶æ”¹å†™ä¸‹ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰äº‹ä»¶çš„æ‰€æœ‰ç›‘å¬è€…      const listerns = shape.listenerMap.get(name)      if (        listerns &&        shape.isPointInClosedRegion(event)      ) {        listerns.forEach((listener) => listener(event))      }    })  }")]),t._v("\n")])])]),a("p",[t._v("è¿™æ ·å…¶å®å°±å·²ç»å®ç°äº†ï¼Œåœ¨åŒºåŸŸå†…éƒ¨å®ç°äº‹ä»¶è§¦å‘äº†ã€‚ çœ‹ä¸‹gif"),a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/Aug-15-2021%2022-40-59.gif",alt:"åŒºåŸŸå†…éƒ¨ç‚¹å‡»"}})]),t._v(" "),a("p",[t._v("ä¸€å¼€å§‹ç‚¹å‡»çš„æ˜¯ç©ºç™½å¤„ï¼Œç„¶åæˆ‘åˆ†åˆ«ç‚¹äº† polygon å’Œ çŸ©å½¢ å’Œåœ†å½¢ ï¼Œçœ‹æ§åˆ¶å° ä½ èƒ½çœ‹åˆ°ç»“æœã€‚è¯´æ˜æˆ‘ä»¬çš„ç®—æ³•å®ç°æˆåŠŸäº†ã€‚")]),t._v(" "),a("h1",{attrs:{id:"é˜»æ­¢äº‹ä»¶å†’æ³¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é˜»æ­¢äº‹ä»¶å†’æ³¡"}},[t._v("#")]),t._v(" é˜»æ­¢äº‹ä»¶å†’æ³¡")]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™æœ‰åŒå­¦åˆè¦é—®äº†ï¼Œ"),a("strong",[t._v("æˆ‘ç‚¹å‡»ä¸¤ä¸ªå›¾å½¢ç›¸äº¤çš„éƒ¨åˆ†ï¼Œæˆ‘åªæƒ³é€‰ä¸­å†…éƒ¨çš„ï¼Œ å¤–é¢çš„ä¸æƒ³é€‰ä¸­")]),t._v("ã€‚ è¿™æ˜¯ä¸ªå¾ˆæ­£å¸¸çš„éœ€æ±‚ï¼Œé¦–å…ˆåŸç”Ÿçš„event è‚¯å®šå·²ç»æ»¡è¶³ä¸äº†æˆ‘ä»¬äº†ï¼Œ è§£å†³è¿™ä¸ªé—®é¢˜å°±æ˜¯ï¼Œåˆ†å‘åˆ°è¿™ä¸ªå›¾å½¢çš„æ—¶å€™ä¸å»è§¦å‘çš„æ‰€æœ‰listenersã€‚ä¸å°±æå®šäº†ã€‚æ‰€ä»¥æˆ‘é‡å†™äº†event,å…¶å® ä¹Ÿæ²¡ä»€ä¹ˆï¼Œä¹Ÿå°±åšäº†ä¸¤ä»¶äº‹")]),t._v(" "),a("ol",[a("li",[t._v("ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°†é¼ æ ‡çš„ç‚¹ è½¬ä¸º point2d")]),t._v(" "),a("li",[t._v("å¢åŠ ä¸€ä¸ªå±æ€§isStopBubble  æ¥é˜»æ­¢å†’æ³¡")])]),t._v(" "),a("p",[t._v("ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNewEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" point "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      isStopBubble"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘è¿™æ ·çš„å®ç°çš„ä¾æ®æ˜¯ å›¾å½¢çš„å¢åŠ åˆ°åœºæ™¯æ˜¯æœ‰åºçš„ã€‚è¿™é‡Œå’Œå¤§å®¶è¯´ä¸‹React äº‹ä»¶ç³»ç»Ÿï¼Œ ç”±äºæœ‰Vdomçš„å­˜åœ¨ï¼Œæ‰€ä»¥ä»–å°†äº‹ä»¶ç›‘å¬åˆ° document ä¸Šï¼Œ ç„¶åå†å»æŒ‰ç…§é¡ºåºï¼Œå»æ”¶é›†æ‰€æœ‰çš„lsitenersã€‚ äº‹ä»¶çš„æ•è· å’Œå†’æ³¡ å…¶å® å°±æ˜¯ä¸€ä¸ª é¡ºåº å’Œå€’å™çš„é—®é¢˜ã€‚ ä»–æ˜¯è¿™ä¹ˆå»å®ç°çš„ã€‚  ä»–é˜»æ­¢åˆæˆäº‹ä»¶å†’æ³¡ï¼Œ å°±æ˜¯åˆæˆäº‹ä»¶æœ‰ä¸ªe.stopPropagation() ã€‚ç”±äºæˆ‘ä»¬canvas æ²¡æœ‰domè¿™ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘ä»¬äººä¸ºå°è£…äº†ä¸€ä¸ªå±æ€§ï¼Œå¹¶ä¸”å°†eventä¼ ç»™æ¯ä¸ªå›¾å½¢ æœ‰ä»–ä»¬æ§åˆ¶ æ˜¯å¦é˜»æ­¢ã€‚çœ‹ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleEvent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    event "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNewEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰äº‹ä»¶çš„æ‰€æœ‰ç›‘å¬è€…      const listerns = shape.listenerMap.get(name)      if (        listerns &&        shape.isPointInClosedRegion(event)        && !event.isStopBubble      ) {        listerns.forEach((listener) => listener(event))      }    })  }")]),t._v("\n")])])]),a("p",[t._v("ä¸»è¦æ˜¯åŠ äº†ä¸ªæ¡ä»¶ã€‚æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼š")]),t._v(" "),a("p",[t._v("æ²¡é˜»æ­¢ï¼Œæˆ‘ç‚¹å‡»å…¬å…±åŒºåŸŸã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E6%B2%A1%E5%86%92%E6%B3%A1.gif",alt:"æ²¡é˜»æ­¢å†’æ³¡"}})]),t._v(" "),a("p",[t._v("é˜»æ­¢å†’æ³¡ï¼Œ ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("circle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isStopBubble "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'circle'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("click"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E9%98%BB%E6%AD%A2%E5%86%92%E6%B3%A1.gif",alt:"é˜»æ­¢å†’æ³¡"}})]),t._v(" "),a("h1",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("æœ¬ç¯‡æ–‡ç« å¤§æ¦‚å°±æ˜¯ç®€å•çš„å®ç°äº†canvas çš„"),a("strong",[t._v("äº‹ä»¶ç³»ç»Ÿ")]),t._v("äº†ï¼Œæ°´å¹³æœ‰é™ï¼Œèƒ½è¡¨è¾¾çš„å°±è¿™ä¹ˆå¤šã€‚å¦‚æœæœ‰æ›´å¥½çš„æ¬¢è¿è¡¥å……å­¦ä¹ å’Œäº¤æµï¼Œæ–‡ç« æœ‰é”™è¯¯çš„æ¬¢è¿æŒ‡æ­£ã€‚æˆ‘æ˜¯çƒ­çˆ±å›¾å½¢çš„Flyï¼Œæˆ‘ä»¬ä¸‹æ¬¡å†è§ğŸ‘‹å•¦ã€‚ æœ€åè§‰å¾—çœ‹å®Œå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œç‚¹èµğŸ‘ å†èµ°å§ã€‚ çŸ¥è¯†è¾“å‡ºä¸å®¹æ˜“ï¼Œæˆ‘ä¼šæŒç»­æŒç»­è¾“å‡ºé«˜è´¨é‡æ–‡ç« çš„ã€‚")]),t._v(" "),a("h1",{attrs:{id:"èµ„æºè·å¾—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºè·å¾—"}},[t._v("#")]),t._v(" èµ„æºè·å¾—")]),t._v(" "),a("p",[t._v("å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·**ã€å‰ç«¯å›¾å½¢ã€‘**ï¼Œå›å¤ "),a("strong",[t._v("ã€äº‹ä»¶ã€‘")]),t._v(" å¯ä»¥è·å¾—å…¨éƒ¨æºç ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);