(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{575:function(t,s,a){"use strict";a.r(s);var n=a(12),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("ä¸çŸ¥ä¸è§‰åˆåˆ°äº†å‘¨æœ«ï¼Œåˆåˆ°äº†Flyå†™æ–‡ç« çš„æ—¥å­ï¼Œä»Šå¤©ç»™å¤§å®¶ä»‹ç»ä¸‹ä¸€ä¸ª"),a("strong",[t._v("web")]),t._v("ä¸­å¾ˆå¸¸è§çš„åŠŸèƒ½ï¼Œ å°±æ˜¯æ’¤é”€å’Œå¤åŸè¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªç”»å›¾è½¯ä»¶ï¼Œæˆ–è€…æ˜¯å»ºæ¨¡è½¯ä»¶ã€‚æ²¡æœ‰æ’¤é”€å’Œå¤åŸã€‚è¿™ä¸æ˜¯å‚»ğŸ‘äº†å¯¹å•Šå§ï¼Œæ‰€ä»¥æœ¬ç¯‡æ–‡ç« ï¼Œå¯ä»¥è¯´æ˜¯åŸºäºä¸Šä¸€ç¯‡æ–‡ç« **"),a("a",{attrs:{href:"https://juejin.cn/post/6996811170459942925",target:"_blank",rel:"noopener noreferrer"}},[t._v("Canvas äº‹ä»¶ç³»ç»Ÿ"),a("OutboundLink")],1),t._v("**çš„ä¸‹é›†ï¼Œå¦‚æœä½ æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®çœ‹å®Œå†å»çœ‹è¿™ä¸€ç¯‡æ–‡ç« ã€‚è¯»å®Œæœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦ä¹ åˆ°ä»€ä¹ˆï¼Ÿï¼Ÿ")]),t._v(" "),a("ol",[a("li",[t._v("ç»™canvas ç»‘å®šé”®ç›˜äº‹ä»¶")]),t._v(" "),a("li",[t._v("å®ç°undo å’Œ redo")]),t._v(" "),a("li",[t._v("æ‰¹é‡å›é€€")]),t._v(" "),a("li",[t._v("2dåŒ…å›´ç›’ç®—æ³•")]),t._v(" "),a("li",[t._v("å±€éƒ¨æ¸²æŸ“")])]),t._v(" "),a("h1",{attrs:{id:"ç»‘å®šé”®ç›˜äº‹ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šé”®ç›˜äº‹ä»¶"}},[t._v("#")]),t._v(" ç»‘å®šé”®ç›˜äº‹ä»¶")]),t._v(" "),a("h2",{attrs:{id:"tabindex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tabindex"}},[t._v("#")]),t._v(" tabindex")]),t._v(" "),a("p",[t._v("å¾ˆå¤šäººè¯´ç»‘å®šé”®ç›˜äº‹ä»¶ï¼Œæœ‰ä»€ä¹ˆå¥½è®²çš„ã€‚å¯¹è™½ç„¶å¾ˆç®€å•ï¼Œä½†æ˜¯æœ‰ç‚¹å°å‘ï¼Œ é¦–å…ˆç›´æ¥å¯¹canvas ç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œæ˜¯âŒä¸è¡Œçš„ã€‚ è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªå°æŠ€å·§ï¼Œ å°±æ˜¯ç»™"),a("strong",[t._v("canvas")]),t._v("domå…ƒç´  åŠ ä¸Š "),a("strong",[t._v("tabindex")]),t._v(" å±æ€§ ï¼Œå¾ˆå¤šäººè¯´è¿™æ˜¯å•¥ï¼Œæˆ‘æ¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£ã€‚")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("tabindex")]),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…¨å±€å±æ€§"),a("OutboundLink")],1),t._v(" æŒ‡ç¤ºå…¶å…ƒç´ æ˜¯å¦å¯ä»¥èšç„¦ï¼Œä»¥åŠå®ƒæ˜¯å¦/åœ¨ä½•å¤„å‚ä¸é¡ºåºé”®ç›˜å¯¼èˆªï¼ˆé€šå¸¸ä½¿ç”¨Tabé”®ï¼Œå› æ­¤å¾—åï¼‰ã€‚")])]),t._v(" "),a("p",[t._v("tabindex å¯ä»¥è®¾ç½® æ­£æ•° å’Œè´Ÿæ•°")]),t._v(" "),a("ol",[a("li",[t._v("tabindex=è´Ÿå€¼ (é€šå¸¸æ˜¯tabindex=â€œ-1â€)ï¼Œè¡¨ç¤ºå…ƒç´ æ˜¯"),a("strong",[t._v("å¯èšç„¦çš„")]),t._v("ï¼Œä½†æ˜¯"),a("strong",[t._v("ä¸èƒ½é€šè¿‡é”®ç›˜å¯¼èˆªæ¥è®¿é—®åˆ°è¯¥å…ƒç´ ")]),t._v("ï¼Œç”¨JSåšé¡µé¢å°ç»„ä»¶å†…éƒ¨é”®ç›˜å¯¼èˆªçš„æ—¶å€™éå¸¸æœ‰ç”¨ã€‚( "),a("strong",[t._v("å¯èšç„¦ï¼Œ ä½†æ˜¯ä¸èƒ½è¾“å…¥é”®ç›˜")]),t._v(")")]),t._v(" "),a("li",[t._v("tabindex=0ï¼Œè¡¨ç¤ºå…ƒç´ æ˜¯"),a("strong",[t._v("å¯èšç„¦çš„")]),t._v("ï¼Œå¹¶ä¸”å¯ä»¥"),a("strong",[t._v("é€šè¿‡é”®ç›˜å¯¼èˆªæ¥èšç„¦åˆ°è¯¥å…ƒç´ ")]),t._v("ï¼Œå®ƒçš„ç›¸å¯¹é¡ºåºæ˜¯å½“å‰å¤„äºçš„DOMç»“æ„æ¥å†³å®šçš„ã€‚")]),t._v(" "),a("li",[t._v("tabindex=æ­£å€¼ï¼Œ"),a("strong",[t._v("è¡¨ç¤ºå…ƒç´ æ˜¯å¯èšç„¦çš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡é”®ç›˜å¯¼èˆªæ¥è®¿é—®åˆ°è¯¥å…ƒç´ ")]),t._v("ï¼›å®ƒçš„ç›¸å¯¹é¡ºåºæŒ‰ç…§"),a("strong",[t._v("tabindex")]),t._v(" çš„æ•°å€¼é€’å¢è€Œæ»åè·ç„¦ã€‚å¦‚æœå¤šä¸ªå…ƒç´ æ‹¥æœ‰ç›¸åŒçš„ "),a("strong",[t._v("tabindex")]),t._v("ï¼Œå®ƒä»¬çš„ç›¸å¯¹é¡ºåºæŒ‰ç…§ä»–ä»¬åœ¨å½“å‰DOMä¸­çš„å…ˆåé¡ºåºå†³å®š")])]),t._v(" "),a("p",[t._v("OKï¼Œè¿™ä¸‹ä½ åº”è¯¥æ˜ç™½äº†ï¼Œæˆ‘ä»¬è¦æƒ³canvas å¯ä»¥èšç„¦ï¼Œ ä½†æ˜¯ç›´æ¥åŠ  tabindex = 0ã€‚ æˆ‘ç»™å‡ºä»¥ä¸‹ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("canvas id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"canvas"')]),t._v(" width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"800"')]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600"')]),t._v(" tabindex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n \n "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keydown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ä½†æ˜¯ä¼šæœ‰ä¸ªé—®é¢˜ï¼Œ ä½ çœ‹ä¸‹é¢å›¾ç‰‡ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210821091006995.png",alt:"ç»‘å®šé”®ç›˜äº‹ä»¶"}})]),t._v(" "),a("p",[t._v("æœ‰canvasæœ‰è¾¹æ¡†ï¼Œ è¿™ä¸ªæˆ‘ä»¬å¯ä»¥é€šè¿‡css å»è§£å†³ï¼Œ ä¸èƒ½è®©ç”¨æˆ·çœ‹åˆ°è¿™ä¸ªï¼Œå¥½çš„äº¤äº’æ˜¯ç”¨æˆ·æ— æ„ŸçŸ¥ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("canvas")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç›´æ¥canvas çš„å¤–è¾¹æ¡†è®¾ç½®ä¸º0å°±OKäº†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ç»‘å®šäº‹ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»‘å®šäº‹ä»¶"}},[t._v("#")]),t._v(" ç»‘å®šäº‹ä»¶")]),t._v(" "),a("p",[t._v("ç›‘å¬å®Œæˆäº†ä¹‹åï¼Œæˆ‘å¼€å§‹å¯¹é”®ç›˜äº‹ä»¶è¿›è¡Œå¤„ç†ï¼Œ é¦–å…ˆæ— è®ºæ˜¯Mac è¿˜æ˜¯windows ä¸€èˆ¬ç”¨æˆ·çš„ä¹ æƒ¯å°±æ˜¯ æŒ‰ "),a("strong",[t._v("ctrl")]),t._v(" æˆ–è€… "),a("strong",[t._v("command")]),t._v(",  åŠ  "),a("strong",[t._v("z")])]),t._v(" "),a("p",[t._v("å’Œ "),a("strong",[t._v("y")]),t._v(" ä¹‹åè¿›è¡Œå›é€€ï¼Œ OK ï¼Œæˆ‘ä»¬ä¹Ÿè¿™æ ·å»åšã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆå®šä¹‰ä¸¤ä¸ªå˜é‡ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Z")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'KeyZ'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'KeyY'")]),t._v("\n")])])]),a("p",[t._v("ç¬¬äºŒæ­¥å°±æ˜¯å†™ç©ºçš„undo å’Œredo æ–¹æ³•")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("undo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'èµ°äº†undo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("redo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç¬¬ä¸‰æ­¥å¼€å§‹ç»‘å®šï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keydown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctrlKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("metaKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Z")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("undo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("Y")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("redo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œéœ€è¦è®²è§£çš„å°±ä¸¤ä¸ªç‚¹å“ˆï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ "),a("strong",[t._v("é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º")]),t._v(" ï¼Œ å› ä¸ºï¼Œæˆ‘æŒ‰"),a("strong",[t._v("command + y")]),t._v(" ä¼šæ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼Œ  ç¬¬äºŒä¸ªå°±æ˜¯å…¼å®¹"),a("strong",[t._v("mac")]),t._v(" å’Œ"),a("strong",[t._v("windows")]),t._v("  , ä¸€ä¸ª"),a("strong",[t._v("metaKey")]),t._v(" ä¸€ä¸ªæ˜¯ "),a("strong",[t._v("ctrlKey")]),t._v(".  çœ‹ä¸‹ç»“æœï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210821092254586.png",alt:"undo å’Œredo "}})]),t._v(" "),a("h1",{attrs:{id:"å®ç°undoå’ŒredoåŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°undoå’ŒredoåŠŸèƒ½"}},[t._v("#")]),t._v(" å®ç°undoå’ŒredoåŠŸèƒ½")]),t._v(" "),a("p",[t._v("æ’¤é”€å’Œå¤åŸ æœ€ä¸»è¦çš„åŠŸèƒ½å…¶å®å°±æ˜¯æˆ‘ä»¬æˆ‘ä»¬è®°å½•æ¯ä¸€æ¬¡å¾€ç”»å¸ƒç”»å›¾å½¢çš„è¿™ä¸ªæ“ä½œï¼Œå› ä¸ºæˆ‘å½“å‰ç”»å¸ƒæ²¡æœ‰å•¥å…¶ä»–æ“ä½œï¼Œ é¦–å…ˆæˆ‘ä»¬æˆ‘ç”¨ä¸¤ä¸ªæ ˆä¿¡æ¯æ¥ï¼Œä¸€ä¸ªundoæ ˆ ä¸€ä¸ª redo æ ˆã€‚æ¥è®°å½•æ¯ä¸€æ¬¡ç”»å¸ƒçš„ä¿¡æ¯ã€‚ æˆ‘è¿™é‡Œç»™å¤§å®¶ç”»å›¾æ¼”ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210821133744266.png",alt:"undoæ ˆ"}})]),t._v(" "),a("p",[t._v("æˆ‘åœ¨ç”»å¸ƒä¸­ç”»äº†3ä¸ªå›¾å½¢ï¼Œ æ¯ä¸€æ¬¡æ·»åŠ ç¬é—´æˆ‘éƒ½å¯¹canvas æˆªå›¾äº†ï¼Œ å¹¶æŠŠè¿™ä¸ªä¿¡æ¯ï¼Œä¿å­˜åˆ°undoStack äº†ã€‚è¿™æ—¶å€™æˆ‘æŒ‰ä¸‹ ctrl + z å›é€€")]),t._v(" "),a("p",[t._v("undoæ ˆä¸­ åªæœ‰rect å’Œcircleï¼Œç„¶åredo æ ˆ å°±æœ‰ä¸€ä¸ªshape äº†ã€‚å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210821134256280.png",alt:"undoæ ˆå’Œredoæ ˆ"}})]),t._v(" "),a("p",[t._v("å¦‚æœåœ¨å›é€€undo å°±åªæœ‰ä¸ª"),a("strong",[t._v("cicrle")]),t._v(", "),a("strong",[t._v("redo")]),t._v("  ä¸­æœ‰ rect å’Œshape, å¤§æ¦‚å°±æ˜¯è¿™ä¹ˆä¸ªè¿‡ç¨‹ã€‚ åŸç†ææ¸…æ¥šäº†ç›´æ¥çœ‹ä»£ç å®ç°ï¼š")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ä¸ªå…ˆåˆå§‹åŒ–å±æ€§ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("undoStack "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redoStack "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("ç¬¬äºŒä¸ªcanvaså®ç°æˆªå›¾åŠŸèƒ½ä¸»è¦æ˜¯é…åˆ ä½¿ç”¨ "),a("strong",[t._v("toDataUrl")]),t._v(" è¿™ä¸ªapi:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dataUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dataUrl\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("undoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å…³äºè¿™ä¸ªapi çš„è¯¦æƒ… ç”¨æ³•å¯ä»¥æŸ¥é˜… Mdn, å¯ä»¥ä¿®æ”¹"),a("strong",[t._v("å›¾ç‰‡çš„ç±»å‹ å’Œè´¨é‡")]),t._v(" å…¶ä»–æ²¡æœ‰ä»€ä¹ˆã€‚")]),t._v(" "),a("p",[t._v("ç¬¬ä¸‰ä¸ªå°±æ˜¯"),a("strong",[t._v("undo å’Œredo æ–¹æ³•çš„è¯¦ç»†å®ç°")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("undo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearCanvas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("undoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("redo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearCanvas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("drawImage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("undoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œ this.clearCanvas å°±æ˜¯æ¸…ç©ºç”»å¸ƒã€‚ undo å–å‡º æ ˆé¡¶çš„å…ƒç´ ï¼Œ ç”¨äº†canvas "),a("strong",[t._v("drawImage")]),t._v(" çš„è¿™ä¸ªapi ï¼Œ è¿™ä¸ªæ˜¯canvas å¯¹å¤–æä¾›ç»˜åˆ¶å›¾ç‰‡çš„èƒ½åŠ›ã€‚ç„¶åå¹¶å°†å…ƒç´  åŠ åˆ° redoæ ˆä¸­ã€‚ è¿™æ ·å…¶å®å°±å·²ç»å®ç°äº†ã€‚ redo çš„æ–¹æ³•åŒç†ã€‚ ä¸æ¸…æ¥šçš„åŒå­¦ï¼Œçœ‹æˆ‘ä¸Šé¢çš„ç”»çš„å›¾ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è¿™é‡Œç›´æ¥çœ‹gif:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E5%9B%9E%E9%80%80gif%20%E6%BC%94%E7%A4%BA.gif",alt:"å›é€€gif æ¼”ç¤º"}})]),t._v(" "),a("h1",{attrs:{id:"æ‰¹é‡å›é€€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰¹é‡å›é€€"}},[t._v("#")]),t._v(" æ‰¹é‡å›é€€")]),t._v(" "),a("p",[t._v("è¿™æ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä¸€æ¬¡æ“ä½œä¸­ç”»äº†å¾ˆå¤š å›¾å½¢ï¼Œæ¯”å¦‚100ä¸ªï¼Œ æˆ‘å¦‚æœæƒ³å›åˆ°ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘éš¾é“è¦ä¸€æ¬¡æˆ‘è¦å›é€€100 æ¬¡å˜›ï¼Ÿï¼Ÿ  å¯¹äºç”¨æˆ·æ¥è¯´è¿™ç»å¯¹ "),a("strong",[t._v("impossible")]),t._v(" çš„ æ‰€ä»¥æˆ‘ä»¬å¾—å®ç°ä¸€ä¸ªæ‰¹é‡å›é€€çš„åŠŸèƒ½ ï¼Œ å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æˆ‘ä»¬æ”¾å…¥åˆ°undoStackçš„é‚£å¼ å›¾ç‰‡ æ˜¯å¾ˆå¤šå›¾å½¢çš„å°±å¥½äº†ã€‚ç»™å‡ºä»¥ä¸‹å®ç°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("batchAdd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shapes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    shapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dataUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toDataURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dataUrl    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("undoStack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("shapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ‘æµ‹è¯•ä¸€ä¸‹ï¼Œ æˆ‘å§çŸ©å½¢çš„æ·»åŠ  å’Œä»»æ„å¤šè¾¹å½¢çš„æ·»åŠ  æ”¾åˆ°ä¸€èµ· ç»™å‡ºä¸‹é¢ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("circle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("canvas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("batchAdd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æˆ‘ä»¬çœ‹ä¸‹gif:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E6%89%B9%E9%87%8F%E5%9B%9E%E9%80%80.gif",alt:"æ‰¹é‡å›é€€"}})]),t._v(" "),a("h1",{attrs:{id:"pattch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pattch"}},[t._v("#")]),t._v(" pattch")]),t._v(" "),a("p",[t._v("å…¶å®æœ¬ç¯‡æ–‡ç« å›é€€åªæ˜¯å¯¹å›¾å½¢"),a("strong",[t._v("æ·»åŠ ")]),t._v("è¿™ä¸ªåŠ¨ä½œå»åšäº†å›é€€ï¼Œä½†æ˜¯å…¶å®å¯¹äºä¸€ä¸ªç”»å›¾å·¥å…·è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ“ä½œï¼Œæ¯”å¦‚ä¿®æ”¹å›¾å½¢çš„é¢œè‰²ï¼Œ å¤§å°å“‡ï¼Œ è¿™äº›éƒ½æ˜¯å¯ä»¥ç”¨æ¥è®°å½•çš„ï¼Œ éš¾é“æˆ‘ä»¬æ¯æ¬¡éƒ½è¦å»é‡æ–°ç”»æ•´ä¸ªç”»å¸ƒå˜›ï¼Œ è¿™æ ·çš„æ€§èƒ½ æ˜¯åœ¨æ˜¯å¤ªå·®äº†ã€‚æ‰€ä»¥å±€éƒ¨æ¸²æŸ“ï¼Œ å°±å‡ºæ¥äº†ï¼Œæˆ‘ä»¬åªå¯¹ç”»å¸ƒä¸Šå˜åŒ–çš„ä¸œè¥¿å»åšé‡æ–°ç»˜åˆ¶ã€‚ å…¶å®ä¹Ÿå°±æ˜¯å»æ‰¾å‡ºä¸¤æ¬¡çš„ä¸åŒ å»åšå±€éƒ¨æ¸²æŸ“ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" æ–¹æ¡ˆ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ¥æ€è€ƒ Canvas å±€éƒ¨æ¸²æŸ“æ–¹æ¡ˆæ—¶ï¼Œéœ€è¦çœ‹ Canvas çš„ API ç»™æˆ‘ä»¬æä¾›äº†ä»€ä¹ˆæ ·çš„æ¥å£ï¼Œè¿™é‡Œä¸»è¦ç”¨åˆ°ä¸¤ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("clip() ç¡®å®šç»˜åˆ¶çš„çš„è£å‰ªåŒºåŸŸï¼ŒåŒºåŸŸä¹‹å¤–çš„å›¾å½¢ä¸èƒ½ç»˜åˆ¶ï¼Œè¯¦æƒ…æŸ¥çœ‹ "),a("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clip",target:"_blank",rel:"noopener noreferrer"}},[t._v("CanvasRenderingContext2D.clip()"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("clearRect("),a("em",[t._v("x")]),t._v(", "),a("em",[t._v("y")]),t._v(", "),a("em",[t._v("width")]),t._v(", "),a("em",[t._v("height")]),t._v(") æ“¦é™¤æŒ‡å®šçŸ©å½¢å†…çš„é¢œè‰²ï¼ŒæŸ¥çœ‹ "),a("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect",target:"_blank",rel:"noopener noreferrer"}},[t._v("CanvasRenderingContext2D.clearRect()"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("é€šè¿‡è¿™ä¸¤ä¸ª API æˆ‘ä»¬å¯ä»¥å¾—åˆ° Canvas å±€éƒ¨åˆ·æ–°çš„æ–¹æ¡ˆï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æ¸…é™¤æŒ‡å®šåŒºåŸŸçš„é¢œè‰²ï¼Œå¹¶è®¾ç½® clip")]),t._v(" "),a("li",[a("strong",[t._v("æ‰€æœ‰åŒè¿™ä¸ªåŒºåŸŸç›¸äº¤çš„å›¾å½¢é‡æ–°ç»˜åˆ¶")])])]),t._v(" "),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" example")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆæ‰€æœ‰åŒè¿™ä¸ªåŒºåŸŸç›¸äº¤çš„å›¾å½¢éƒ½è¦é‡æ–°ç»˜åˆ¶ï¼Œ æˆ‘ä¸¾ä¸ªä¾‹å­ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822081344783.png",alt:"å›¾å½¢ç›¸äº¤"}})]),t._v(" "),a("p",[t._v("é¦–å…ˆçœ‹ä¸Šé¢è¿™å¼ å›¾ï¼Œå¦‚æœæˆ‘åªæ”¹å˜äº†åœ†å½¢çš„é¢œè‰²ï¼Œ é‚£æˆ‘å»åšè£å‰ªçš„æ—¶å€™ï¼Œé¦–å…ˆæˆ‘çš„è£å‰ªè·¯å¾„è‚¯å®šæ˜¯æ˜¯è¿™ä¸ªåœ†ï¼Œ ä½†æ˜¯åŒæ—¶åˆåŒ…å«äº† é»‘è‰²çŸ©å½¢çš„ä¸€éƒ¨åˆ†ï¼Œ å¦‚æœæˆ‘åªå¯¹åœ†åšé¢œè‰²å˜åŒ–çš„ï¼Œ ä½ ä¼šå‘ç°é»‘è‰²çŸ©å½¢å°‘äº†ä¸€éƒ¨åˆ†ã€‚æˆ‘ç»™ä½ çœ‹ä¸‹ å›¾ç‰‡ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822081842571.png",alt:"clipè£å‰ªç»“æœ"}})]),t._v(" "),a("p",[t._v("ä½ ä¼šå‘ç°æœ‰ç‚¹å¥‡æ€ªå¯¹å§ï¼Œ è¿™ä¸ªæ—¶å€™æœ‰äººæå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œ ä¸ºä»€ä¹ˆæ•´ä¸ªåœ†å‘¢ï¼Œ 3/4ä¸ªåœ†ä¸å¥½å˜›ã€‚OKæ˜¯å¯ä»¥çš„ï¼Œ ä½ æ æˆ‘ï¼Œæˆ‘å°±è¦åœ¨ç»™ä½ ä¸¾ä¸€ä¸ªä¾‹å­ã€‚ æˆ–è€…è¯´æˆ‘è¿™é‡Œæˆ‘ä¸ºä»€ä¹ˆè¦ç»™å¤§å®¶è®²ä¸€ä¸‹Boundbox çš„æ¦‚å¿µå‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822082226033.png",alt:"anyShape"}})]),t._v(" "),a("p",[t._v("å‡è®¾åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼šæˆ‘æƒ³åšå±€éƒ¨æ¸²æŸ“ï¼Œ åŒæ—¶ç”»å¸ƒä¸­è¿˜æœ‰ä¸€ä¸ªç»¿è‰²çš„ä¸‰è§’å½¢ã€‚ é‚£ä½ æ€ä¹ˆå»è®¡ç®—è·¯å¾„å‘¢ ï¼Ÿï¼Ÿï¼Ÿ  å¯¹å§ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³ç€è‚¯å®šå¾—æœ‰ä¸€ä¸ªæ¡†å»æŠŠä»–ä»¬æ¡†æŸ±ï¼Œ ç„¶åæ¡†å†…æ‰€æœ‰çš„çš„å›¾å½¢éƒ½ä¼šé‡ç”»ï¼Œå…¶ä»–ä¸å˜ã€‚æ˜¯ä¸æ˜¯å°±å¥½äº†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"boundingbox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boundingbox"}},[t._v("#")]),t._v(" boundingbox")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åˆšæ‰è¯´çš„ç”¨ä¸€ä¸ªæ¡†å»æŠŠå›¾å½¢åŒ…å›´ä½ï¼Œ å…¶å®åœ¨å‡ ä½•ä¸­æˆ‘ä»¬å«"),a("strong",[t._v("åŒ…å›´ç›’")]),t._v(" æˆ–è€…æ˜¯"),a("strong",[t._v("boundingBox")]),t._v("ã€‚ å¯ä»¥ç”¨æ¥"),a("strong",[t._v("å¿«é€Ÿæ£€æµ‹")]),t._v("ä¸¤ä¸ªå›¾å½¢æ˜¯å¦ç›¸äº¤ï¼Œ ä½†æ˜¯è¿˜æ˜¯ä¸å¤Ÿå‡†ç¡®ã€‚æœ€å¥½è¿˜æ˜¯ç”¨å›¾å½¢ç®—æ³•å»è§£å†³ã€‚ æˆ–è€…æ¸¸æˆä¸­çš„ç¢°æ’æ£€æµ‹ï¼Œéƒ½æœ‰è¿™ä¸ªæ¦‚å¿µã€‚å› ä¸ºæˆ‘è¿™é‡Œè®¨è®ºçš„æ˜¯2dçš„boudingboxï¼Œ è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚æˆ‘ç»™ä½ çœ‹å‡ å¼ å›¾ï¼Œ æˆ–è®¸ä½ å°±ç¬é—´æ˜ç™½äº†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822113735608.png",alt:"image-20210822113735608"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822173140738.png",alt:"ä»»æ„å¤šè¾¹å½¢"}})]),t._v(" "),a("p",[t._v("è™šçº¿æ¡†å…¶å®å°±æ˜¯boundingBox, å…¶å®å°±æ˜¯æ ¹æ®å›¾å½¢çš„å¤§å°ï¼Œç®—å‡ºä¸€ä¸ªçŸ©å½¢è¾¹æ¡†ã€‚ç†è®ºæˆ‘ä»¬çŸ¥é“äº†ï¼Œæ˜ å°„åˆ°ä»£ç å±‚æ¬¡ï¼Œ æˆ‘ä»¬æ€ä¹ˆå»è¡¨è¾¾å‘¢? æˆ‘è¿™é‡Œå¸¦å¤§å®¶åŸç”Ÿå®ç°ä¸€ä¸‹bound2d ç±»ï¼Œ å…¶å®æˆ‘ä»¬æ¯ä¸ª2då›¾å½¢ï¼Œéƒ½å¯ä»¥å»å®ç°ã€‚ å› ä¸º2då›¾å½¢éƒ½æ˜¯ç”±ç‚¹ç»„æˆçš„ï¼Œæ‰€ä»¥åªè¦è·å¾—æ¯ä¸€ä¸ªå›¾å½¢çš„ç¦»æ•£ç‚¹é›†åˆï¼Œ ç„¶åå¯¹è¿™äº›ç‚¹ï¼Œå»è·å¾—ä¸€ä¸ª2dç©ºé—´çš„boundBoxã€‚")]),t._v(" "),a("h2",{attrs:{id:"å®ç°box2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°box2"}},[t._v("#")]),t._v(" å®ç°box2")]),t._v(" "),a("p",[a("strong",[t._v("box2")]),t._v(" è¿™ä¸ªç±»çš„å±æ€§å…¶å®å°±æœ‰ä¸€ä¸ªmin, maxã€‚ è¿™ä¸ªå…¶å®å°±æ˜¯å¯¹åº”çš„çŸ©å½¢çš„"),a("strong",[t._v("å·¦ä¸Šè§’")]),t._v(" å’Œ "),a("strong",[t._v("å³ä¸‹è§’")]),t._v("  è¿™é‡Œæ˜¯å› ä¸ºcanvas çš„åæ ‡ç³»åæ ‡åŸç‚¹æ˜¯å·¦ä¸Šæ–¹çš„ï¼Œ å¦‚æœåæ ‡åŸç‚¹åœ¨å·¦ä¸‹æ–¹ã€‚min, max å¯¹åº”çš„å°±æ˜¯ï¼Œ "),a("strong",[t._v("å·¦ä¸‹")]),t._v(" å’Œ "),a("strong",[t._v("å³ä¸Š")]),t._v("ã€‚  æˆ‘ç»™å‡ºä¸‹é¢ä»£ç å®ç°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Box2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" min "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFromPoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("points")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" il "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" il"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expandByPoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("points"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("containsBox")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("box")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("      box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("      box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expandByPoint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("point")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersectsBox")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("box")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("      box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("      box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("      box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("min")]),t._v("å’Œ"),a("strong",[t._v("max")]),t._v("  å…¶å®å¯¹åº”ç€æˆ‘ä¹‹å‰å†™çš„Point2d ç‚¹è¿™ä¸ªç±»ã€‚ ç”±äºexpandPoint, è¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨ã€‚ æ‰€ä»¥ç›¸å½“äºä¸æ–­çš„å»æ¯”è¾ƒè·å–çš„æœ€å¤§çš„ç‚¹ å’Œæœ€å°çš„ç‚¹ï¼Œ ä»è€Œè·å¾—åŒ…å›´ç›’ã€‚ æˆ‘çœ‹ä¸‹Point2d min å’Œ max è¿™ä¸ªæ–¹æ³•çš„å®ç°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("v")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("å…¶å®å°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªç‚¹çš„x å’Œy ä¸æ–­åœ°å»æ¯”è¾ƒã€‚")])]),t._v(" "),a("p",[t._v("ç„¶åæˆ‘å†çœ‹ä¸‹ï¼Œ åŒ…å›´ç›’ æ˜¯å¦ç›¸äº¤ å’ŒåŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),a("p",[t._v("æˆ‘å…ˆè®²ä¸‹ åŒ…å«ï¼ˆcontainsBoxï¼‰è¿™ä¸ªæ–¹æ³•ï¼šä»£ç ä¸å¥½ç†è§£ï¼Œæˆ‘è¿˜æ˜¯ç”»ä¸€å¼ å›¾å°±ç†è§£äº†ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822202953647.png",alt:"åŒ…å›´ç›’åŒ…å«çš„æ–¹æ³•å®ç°"}})]),t._v(" "),a("p",[t._v("cd è¿™ä¸ªåŒ…å›´ç›’ æ˜¯ä¸æ˜¯åœ¨ab åŒ…å›´ç›’çš„å†…éƒ¨ æˆ‘ä»¬æ€ä¹ˆè¡¨ç¤ºå‘¢")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Cx >= Ax && Cy >=Ay && Dx<=Bx && Dy<=By \n")])])]),a("p",[t._v("ä¸Šé¢çš„ä¼ªä»£ç ï¼Œ ä½ ç†è§£äº†ï¼Œä½ å°±ç†è§£äº†åŒ…å›´è¿™ä¸ªæ–¹æ³•çš„å®ç°äº†ã€‚")]),t._v(" "),a("p",[t._v("ç„¶åæˆ‘åœ¨çœ‹ç›¸äº¤è¿™ä¸ªæ–¹æ³•çš„å®ç°ï¼Œå®ç°æ€è·¯åˆ¤æ–­ä¸æƒ³äº¤çš„æƒ…å†µå°±å¥½äº†ã€‚")]),t._v(" "),a("p",[t._v("ä¸¤ä¸ªåŒ…å›´ç›’ä¸æƒ³äº¤çš„æƒ…å†µå¯¹åº”ä¸‹é¢çš„è¿™å¼ å›¾ï¼šå…¶å®æ˜¯åˆ†4ä¸ªè±¡é™ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822204623500.png",alt:"ç›¸äº¤å›¾ç‰‡"}})]),t._v(" "),a("p",[t._v("è¿™æ˜¯4ä¸­ä¸æƒ³äº¤æƒ…å†µï¼Œ å¯¹åº”çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("dx < ax || cy > by || cx > bx || ay > dy \n")])])]),a("p",[t._v("çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘è§‰å¾—ä½ è‚¯å®šæœ‰æ”¶è·ï¼Œæˆ‘å¸Œæœ›ä½ ç»™æˆ‘ä¸ªğŸ‘å’Œå…³æ³¨ï¼Œæˆ‘ä¼šæŒç»­è¾“å‡ºå¥½æ–‡ç« çš„ã€‚")]),t._v(" "),a("h1",{attrs:{id:"æ”¹é€ shape"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¹é€ shape"}},[t._v("#")]),t._v(" æ”¹é€ shape")]),t._v(" "),a("p",[t._v("æœ‰äº†boundBox, æˆ‘ä»¬ç»™æ¯ä¸€ä¸ªå›¾å½¢åŠ ä¸€ä¸ªgetBounding  è¿™ä¸ªæ–¹æ³•ã€‚ è¿™é‡Œå°±ä¸å±•ç¤ºäº†ï¼Œ ç›´æ¥å±•ç¤ºä»£ç ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ†getBounding() {  const { center, radius } = this.props  const { x, y } = center  const min = new Point2d(x - radius, y - radius)  const max = new Point2d(x + radius, y + radius)  return new Box2(min,max)}//çŸ©å½¢getBounding() {  const { leftTop, width, height } = this.props  const min = leftTop  const { x, y } = leftTop  const max = new Point2d(x + width, y + height)  return new Box2(min, max)}//ä»»æ„å¤šè¾¹å½¢getDispersed() {    return this.props.points}getBounding() {  return new Box2().setFromPoints(this.getDispersed())}")]),t._v("\n")])])]),a("h1",{attrs:{id:"å±€éƒ¨æ¸²æŸ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å±€éƒ¨æ¸²æŸ“"}},[t._v("#")]),t._v(" å±€éƒ¨æ¸²æŸ“")]),t._v(" "),a("p",[t._v("ä¸€åˆ‡çŸ¥è¯†éƒ½å·²ç»è®²ç»“æŸäº†ï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡Œå®æˆ˜ç¯èŠ‚äº†ã€‚ æˆ‘åœ¨åº•éƒ¨åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œ ç”¨äºæ”¹å˜åœ†çš„é¢œè‰²ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("æ”¹å˜åœ†çš„é¢œè‰²"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹å˜åœ†çš„é¢œè‰²document.getElementById('btn').addEventListener(click, () => {  circle.change(    {      fillColor: 'blue',    },    canvas  )})")]),t._v("\n")])])]),a("p",[t._v("åŒæ—¶ç‚¹å‡»çš„æ—¶å€™æ”¹å˜åœ†çš„é¢œè‰²ï¼Œæˆ‘ä»¬çœ‹ä¸‹ change è¿™ä¸ªæ–¹æ³•å®ç°ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("change")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" canvas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ä¸åŒ  canvas.shapePropsDiffMap.set(this, props)  canvas.reDraw()}")]),t._v("\n")])])]),a("p",[t._v("è¿™é‡Œæˆ‘ç»™å¤§å®¶è®²è§£ä¸€ä¸‹å“ˆï¼Œ é¦–å…ˆæˆ‘ä»¬å·²ç»åœ¨ç”»å¸ƒä¸­å·²ç»æœ‰äº†è¿™ä¸ªåœ†ï¼Œæˆ‘è¿™æ˜¯å¯¹åœ†å†ä¸€æ¬¡æ”¹å˜ï¼Œæ‰€ä»¥æˆ‘å°†è¿™ä¸€æ¬¡çš„æ”¹å˜ç”¨ä¸€ä¸ªmap è®°å½•ï¼Œ é‡ç”»è¿™ä¸ªæ–¹æ³• ä¸»è¦æ˜¯åŒºåŸŸè£å‰ªï¼Œ ä½†æ˜¯è£å‰ªæˆ‘ä»¬è¦å»åˆ¤æ–­ å½“å‰å›¾å½¢æ˜¯ä¸æ˜¯å’Œå…¶ä»–å›¾å½¢æœ‰ç›¸äº¤çš„ï¼Œå¦‚æœæœ‰ç›¸äº¤çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰©å¤§è£å‰ªåŒºåŸŸï¼Œ å¹¶ä¸”é‡ç”»å¤šä¸ªå›¾å½¢ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæœ‰ç›¸äº¤çš„å…¶ä»–å›¾å½¢ï¼Œ è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªåŒ…å›´ç›’çš„åˆå¹¶ã€‚æ¥ç¡®å®šè¿™ä¸ªè£å‰ªåŒºåŸŸ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("union")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("box")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åŒºåŸŸåˆå¹¶äº†ï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡Œæ¸…é™¤åŒ…å›´ç›’åŒºåŸŸçš„å›¾å½¢, å…ˆçœ‹ä¸‹ä»£ç å®ç°ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reDraw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shapePropsDiffMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("      shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("props "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" curBox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBounding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" otherShapes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("other")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" other "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" shape "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" other"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBounding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intersectsBox")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå­˜åœ¨ç›¸äº¤ è¿›è¡ŒåŒ…å›´ç›’åˆå¹¶      if (otherShapes.length > 0) {        otherShapes.forEach((otherShape) => {          curBox.union(otherShape.getBounding())        })      }      //æ¸…é™¤è£å‰ªåŒºåŸŸ      this.ctx.clearRect(curBox.min.x, curBox.min.y, curBox.max.x, curBox.max.y)    })  }")]),t._v("\n")])])]),a("p",[t._v("è£å‰ªçš„åŒºåŸŸ å°±æ˜¯åˆå¹¶çš„boudingBox åŒºåŸŸã€‚æˆ‘ä»¬çœ‹ä¸‹å›¾ç‰‡"),a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/clip.gif",alt:"clip"}})]),t._v(" "),a("p",[t._v("å“ˆå“ˆå“ˆæˆåŠŸå®ç°ï¼Œ æˆ‘åªæ”¹å˜çš„æ˜¯åœ†ï¼Œ æ¥ä¸‹æ¥è¿›è¡Œè£å‰ªå’Œé‡ç”»å°±å¥½äº†ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¡®å®šè£å‰ªèŒƒå›´this.ctx.save()this.ctx.beginPath()// è£å‰ªåŒºåŸŸcurBox.getFourPoints().forEach((point, index) => {  const { x, y } = point  if (index === 0) {    this.ctx.moveTo(x, y)  } else {    this.ctx.lineTo(x, y)  }})this.ctx.clip()//é‡ç”»æ¯ä¸€ä¸ªå›¾å½¢[...otherShapes, shape].forEach((shape) => {  shape.draw(this.ctx)})this.ctx.closePath()this.ctx.restore()")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢çš„getFourPoints, å…¶å®æ˜¯ç¡®å®šè£å‰ªçš„è·¯å¾„ã€‚ è¿™ä¸ªå¾ˆé‡è¦çš„æ–¹æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFourPoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rightTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" leftBottom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Point2d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rightTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" leftBottom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸ºäº†æµ‹è¯•å±€éƒ¨æ¸²æŸ“çš„ä¼˜åŠ¿å“ˆï¼Œæˆ‘åœ¨ç”»å¸ƒä¸­ç”»äº†50ä¸ªåœ†å½¢ï¼Œå¹¶ä¸”å¢åŠ äº†èµ°å…¨éƒ¨æ¸²æŸ“çš„æŒ‰é’®ï¼Œ çœ‹çœ‹åˆ°åº•æœ‰æ²¡æœ‰ä¼˜åŠ¿ã€‚åˆ°åº•æœ‰æ²¡æœ‰ä¼˜åŒ–ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shapes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" circle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Circle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    center"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Point2d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    radius"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    fillColor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rgb( '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' )'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  shapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("circle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reDraw2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearCanvas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("allShapes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("shape")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("draw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶åç”»å¸ƒæ˜¯è¿™æ ·å­çš„å¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/image-20210822222513877.png",alt:"image-20210822222513877"}})]),t._v(" "),a("p",[t._v("åˆ†åˆ«åŠ äº†æ—¶é—´ å»æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±€éƒ¨æ”¹å˜åœ†çš„é¢œè‰²document.getElementById('btn').addEventListener(click, () => {  console.time(2)  circle.change(    {      fillColor: 'blue',    },    canvas  )  console.timeEnd(2)})// å…¨éƒ¨åˆ·æ–° æ”¹å˜åœ†çš„é¢œè‰²document.getElementById('btn2').addEventListener(click, () => {  console.time(1)  canvas.reDraw2()  console.timeEnd(1)})")]),t._v("\n")])])]),a("p",[t._v("ä¸‹é¢æˆ‘ä»¬å¼€å§‹æµ‹è¯•çœ‹ä¸‹gif:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ztifly.oss-cn-hangzhou.aliyuncs.com/%E5%AF%B9%E6%AF%94.gif",alt:"å¯¹æ¯”"}})]),t._v(" "),a("p",[t._v("å¤§å®¶å¯ä»¥å‘ç°ï¼Œå±€éƒ¨æ¸²æŸ“è¿˜é€Ÿåº¦è¿˜æ˜¯å¿«çš„ã€‚è¿™æ˜¯åœ¨50ä¸ªå›¾å½¢çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ¢æˆ100ä¸ªå‘¢ï¼Œ å¯¹å§ï¼Œä¼˜åŒ–å¯èƒ½å°±æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„äº†ã€‚")]),t._v(" "),a("h1",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("æœ¬ç¯‡æ–‡ç« å†™åˆ°è¿™é‡Œä¹Ÿå°±ç»“æŸäº†ï¼Œå¦‚æœä½ å¯¹æ–‡ç« çš„å†…å®¹æœ‰å›°æƒ‘ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµæŒ‡æ­£ã€‚æˆ‘çœ‹åˆ°éƒ½ä¼šå›å¤çš„ï¼Œ æœ€åè¿˜æ˜¯å¸Œæœ›å¤§å®¶å¦‚æœçœ‹å®Œå¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¸Œæœ›ç‚¹ä¸ªèµğŸ‘å’Œå…³æ³¨ã€‚è®©æ›´å¤šäººçœ‹åˆ°ï¼Œ æˆ‘æ˜¯å–œæ¬¢å›¾å½¢çš„Flyï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ğŸ‘‹ã€‚")]),t._v(" "),a("h1",{attrs:{id:"æºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æºç "}},[t._v("#")]),t._v(" æºç ")]),t._v(" "),a("p",[t._v("å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å· "),a("strong",[t._v("ã€å‰ç«¯å›¾å½¢ã€‘")]),t._v(" ï¼Œå›å¤ "),a("strong",[t._v("ã€boxã€‘")]),t._v(" å¯ä»¥è·å¾—å…¨éƒ¨æºç ã€‚")])])}),[],!1,null,null,null);s.default=r.exports}}]);